{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false",
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "# QA of DSL Release v1.16\n",
    "The purpose of this notebook is to review and test the new features in 1.16\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## Prerequisites"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "> This notebook assumes you have installed the `dimcli` library and are familiar with the [Getting Started](https://github.com/digital-science/dimensions-api-examples/blob/master/stable/1.%20Getting%20Started.ipynb) tutorial. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "DimCli v0.4.3 - Succesfully connected to <https://integration.ds-metrics.com>\n"
     ]
    }
   ],
   "source": [
    "import dimcli\n",
    "dimcli.login(instance=\"test\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-113\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-113\n",
    "\n",
    "author_affiliations deprecated as a filter"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Semantic Error\n",
      "Semantic errors found:\n",
      "\tField 'author_affiliations' can not be used in filters. It can only be returned in the result.\n"
     ]
    }
   ],
   "source": [
    "%%dsl_query \n",
    "search publications where author_affiliations = \"grid.10825.3e\" \n",
    "return publications"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  29220\n",
      "Returned Publications: 10\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "limit": 10,
        "offset": 0,
        "total_count": 29220
       },
       "publications": [
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Al Hufūf",
              "city_id": 109571,
              "country": "Saudi Arabia",
              "country_code": "SA",
              "id": "grid.412140.2",
              "name": "King Faisal University",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Basem M.",
            "last_name": "Abdallah",
            "orcid": "",
            "raw_affiliation": [
             "Biological Sciences Department, College of Science, King Faisal University, 31982, Hofuf, Al-Ahsa, Saudi Arabia",
             "Endocrine Research (KMEB), Department of Endocrinology, Odense University Hospital and University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Al Hufūf",
              "city_id": 109571,
              "country": "Saudi Arabia",
              "country_code": "SA",
              "id": "grid.412140.2",
              "name": "King Faisal University",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Abdullah M.",
            "last_name": "Alzahrani",
            "orcid": "",
            "raw_affiliation": [
             "Biological Sciences Department, College of Science, King Faisal University, 31982, Hofuf, Al-Ahsa, Saudi Arabia"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Al Hufūf",
              "city_id": 109571,
              "country": "Saudi Arabia",
              "country_code": "SA",
              "id": "grid.412140.2",
              "name": "King Faisal University",
              "state": null,
              "state_code": null
             },
             {
              "city": "Alexandria",
              "city_id": 361058,
              "country": "Egypt",
              "country_code": "EG",
              "id": "grid.7155.6",
              "name": "Alexandria University",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Ashraf M.",
            "last_name": "Abdel-Moneim",
            "orcid": "",
            "raw_affiliation": [
             "Biological Sciences Department, College of Science, King Faisal University, 31982, Hofuf, Al-Ahsa, Saudi Arabia",
             "Department of Zoology, Faculty of Science, Alexandria University, Alexandria, Egypt"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Nicholas",
            "last_name": "Ditzel",
            "orcid": "",
            "raw_affiliation": [
             "Endocrine Research (KMEB), Department of Endocrinology, Odense University Hospital and University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             },
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.5254.6",
              "name": "University of Copenhagen",
              "state": null,
              "state_code": null
             },
             {
              "city": "Riyadh",
              "city_id": 108410,
              "country": "Saudi Arabia",
              "country_code": "SA",
              "id": "grid.56302.32",
              "name": "King Saud University",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Moustapha",
            "last_name": "Kassem",
            "orcid": "",
            "raw_affiliation": [
             "Endocrine Research (KMEB), Department of Endocrinology, Odense University Hospital and University of Southern Denmark, Odense, Denmark",
             "Department of Cellular and Molecular Medicine, DanStem (Danish Stem Cell Center), Panum Institute, University of Copenhagen, Copenhagen, Denmark",
             "Stem Cell Unit, Department of Anatomy, Faculty of Medicine, King Saud University, Riyadh, Saudi Arabia"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "A simple and reliable protocol for long-term culture of murine bone marrow stromal (mesenchymal) stem cells that retained their in vitro and in vivo stemness in long-term culture"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Dublin",
              "city_id": 2964574,
              "country": "Ireland",
              "country_code": "IE",
              "id": "grid.4912.e",
              "name": "Royal College of Surgeons in Ireland",
              "state": null,
              "state_code": null
             },
             {
              "city": "Belfast",
              "city_id": 2655984,
              "country": "United Kingdom",
              "country_code": "GB",
              "id": "grid.4777.3",
              "name": "Queen's University Belfast",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Frank",
            "last_name": "Doyle",
            "orcid": "",
            "raw_affiliation": [
             "Department of Health Psychology, Royal College of Surgeons in Ireland, 123 St Stephen’s Green, Dublin 2, Ireland",
             "School of Psychology, Queen’s University Belfast, University Road, BT71NN, Belfast, Northern Ireland, UK"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "St Louis",
              "city_id": 4407066,
              "country": "United States",
              "country_code": "US",
              "id": "grid.4367.6",
              "name": "Washington University in St. Louis",
              "state": "Missouri",
              "state_code": "US-MO"
             }
            ],
            "current_organization_id": "",
            "first_name": "Kenneth",
            "last_name": "Freedland",
            "orcid": "",
            "raw_affiliation": [
             "Washington University School of Medicine, St. Louis, USA"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "St Louis",
              "city_id": 4407066,
              "country": "United States",
              "country_code": "US",
              "id": "grid.4367.6",
              "name": "Washington University in St. Louis",
              "state": "Missouri",
              "state_code": "US-MO"
             }
            ],
            "current_organization_id": "",
            "first_name": "Robert",
            "last_name": "Carney",
            "orcid": "",
            "raw_affiliation": [
             "Washington University School of Medicine, St. Louis, USA"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Groningen",
              "city_id": 2755251,
              "country": "Netherlands",
              "country_code": "NL",
              "id": "grid.4830.f",
              "name": "University of Groningen",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Peter",
            "last_name": "de Jonge",
            "orcid": "",
            "raw_affiliation": [
             "University of Groningen, Groningen, Netherlands"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Exeter",
              "city_id": 2649808,
              "country": "United Kingdom",
              "country_code": "GB",
              "id": "grid.8391.3",
              "name": "University of Exeter",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Chris",
            "last_name": "Dickens",
            "orcid": "",
            "raw_affiliation": [
             "University of Exeter, Exeter, UK"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Susanne",
            "last_name": "Pedersen",
            "orcid": "",
            "raw_affiliation": [
             "University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Dublin",
              "city_id": 2964574,
              "country": "Ireland",
              "country_code": "IE",
              "id": "grid.4912.e",
              "name": "Royal College of Surgeons in Ireland",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Jan",
            "last_name": "Sorensen",
            "orcid": "",
            "raw_affiliation": [
             "Royal College of Surgeons in Ireland, Dublin, Ireland"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Belfast",
              "city_id": 2655984,
              "country": "United Kingdom",
              "country_code": "GB",
              "id": "grid.4777.3",
              "name": "Queen's University Belfast",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Martin",
            "last_name": "Dempster",
            "orcid": "",
            "raw_affiliation": [
             "Queen’s University Belfast, Belfast, UK"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "Network meta-analysis of randomised trials of pharmacological, psychotherapeutic, exercise and collaborative care interventions for depressive symptoms in patients with coronary artery disease: hybrid systematic review of systematic reviews protocol"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.418079.3",
              "name": "National Research Centre for the Working Environment",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Sofie",
            "last_name": "Dencker-Larsen",
            "orcid": "",
            "raw_affiliation": [
             "National Research Centre for the Working Environment, Lersø Parkallé 105, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.418079.3",
              "name": "National Research Centre for the Working Environment",
              "state": null,
              "state_code": null
             },
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.5254.6",
              "name": "University of Copenhagen",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Charlotte Lund",
            "last_name": "Rasmussen",
            "orcid": "",
            "raw_affiliation": [
             "National Research Centre for the Working Environment, Lersø Parkallé 105, Copenhagen, Denmark",
             "Section of Social Medicine, University of Copenhagen, Øster Farimagsgade 5, 1014, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.418079.3",
              "name": "National Research Centre for the Working Environment",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Sannie Vester",
            "last_name": "Thorsen",
            "orcid": "",
            "raw_affiliation": [
             "National Research Centre for the Working Environment, Lersø Parkallé 105, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Ghent",
              "city_id": 2797656,
              "country": "Belgium",
              "country_code": "BE",
              "id": "grid.5342.0",
              "name": "Ghent University",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Els",
            "last_name": "Clays",
            "orcid": "",
            "raw_affiliation": [
             "Department of Public Health and Primary Care, Ghent University, 4K3 (ingang 42), Corneel Heymanslaan 10, B–9000, Ghent, Belgium"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "name": "Center for Social Medicine, Frederiksberg and Bispebjerg Hospital, Nordre Fasanvej 57, 2000, Frederiksberg, Denmark"
             }
            ],
            "current_organization_id": "",
            "first_name": "Thomas",
            "last_name": "Lund",
            "orcid": "",
            "raw_affiliation": [
             "Center for Social Medicine, Frederiksberg and Bispebjerg Hospital, Nordre Fasanvej 57, 2000, Frederiksberg, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Aarhus",
              "city_id": 2624652,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.7048.b",
              "name": "Aarhus University",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Merete",
            "last_name": "Labriola",
            "orcid": "",
            "raw_affiliation": [
             "Department of Public Health, Aarhus University, Bartholins Allé 2, 8000, Aarhus, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.5254.6",
              "name": "University of Copenhagen",
              "state": null,
              "state_code": null
             },
             {
              "city": "Holbæk",
              "city_id": 2620147,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.414289.2",
              "name": "Holbæk Sygehus",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Ole Steen",
            "last_name": "Mortensen",
            "orcid": "",
            "raw_affiliation": [
             "Section of Social Medicine, University of Copenhagen, Øster Farimagsgade 5, 1014, Copenhagen, Denmark",
             "Department of Occupational and Social Medicine, Holbæk Hospital, Smedelundsgade 60, 4300, Holbæk, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.5254.6",
              "name": "University of Copenhagen",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Marie Birk",
            "last_name": "Jørgensen",
            "orcid": "",
            "raw_affiliation": [
             "Department of Forensic Science, University of Copenhagen, 2100, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.418079.3",
              "name": "National Research Centre for the Working Environment",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Nidhi",
            "last_name": "Gupta",
            "orcid": "",
            "raw_affiliation": [
             "National Research Centre for the Working Environment, Lersø Parkallé 105, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.418079.3",
              "name": "National Research Centre for the Working Environment",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Charlotte Diana Nørregaard",
            "last_name": "Rasmussen",
            "orcid": "",
            "raw_affiliation": [
             "National Research Centre for the Working Environment, Lersø Parkallé 105, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.418079.3",
              "name": "National Research Centre for the Working Environment",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Andreas",
            "last_name": "Holtermann",
            "orcid": "",
            "raw_affiliation": [
             "National Research Centre for the Working Environment, Lersø Parkallé 105, Copenhagen, Denmark",
             "Department of Sports Science and Clinical Biomechanics, University of Southern Denmark, Campusvej 55, 5230, Odense, Denmark"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "Technically measured compositional physical work demands and prospective register-based sickness absence (PODESA): a study protocol"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.460785.8",
              "name": "University College Lillebaelt",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.460785.8",
            "first_name": "Tina",
            "last_name": "Junge",
            "orcid": "['0000-0002-3304-3010']",
            "raw_affiliation": [
             "Department of Sports Science and Clinical Biomechanics, University of Southern Denmark, Campusvej 55, 5230, Odense, Denmark",
             "Health Sciences Research Centre, University College Lillebaelt, Odense, Denmark"
            ],
            "researcher_id": "ur.01173774604.76"
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             },
             {
              "city": "Esbjerg",
              "city_id": 2622447,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.414576.5",
              "name": "Sydvestjysk Sygehus",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.10825.3e",
            "first_name": "Niels",
            "last_name": "Wedderkopp",
            "orcid": "['0000-0002-9660-6618']",
            "raw_affiliation": [
             "Department of Sports Science and Clinical Biomechanics, University of Southern Denmark, Campusvej 55, 5230, Odense, Denmark",
             "Department of Orthopaedics, Sydvestjysk Sygehus Esbjerg, Esbjerg, Denmark"
            ],
            "researcher_id": "ur.0765243721.86"
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.10825.3e",
            "first_name": "Eleanor",
            "last_name": "Boyle",
            "orcid": "['0000-0002-9012-9128']",
            "raw_affiliation": [
             "Department of Sports Science and Clinical Biomechanics, University of Southern Denmark, Campusvej 55, 5230, Odense, Denmark"
            ],
            "researcher_id": "ur.0604377373.24"
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.460785.8",
              "name": "University College Lillebaelt",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.10825.3e",
            "first_name": "Per",
            "last_name": "Kjaer",
            "orcid": "",
            "raw_affiliation": [
             "Department of Sports Science and Clinical Biomechanics, University of Southern Denmark, Campusvej 55, 5230, Odense, Denmark",
             "Health Sciences Research Centre, University College Lillebaelt, Odense, Denmark"
            ],
            "researcher_id": "ur.0766700321.67"
           }
          ]
         ],
         "title": "The natural course of low back pain from childhood to young adulthood – a systematic review"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Orsay",
              "city_id": 2989204,
              "country": "France",
              "country_code": "FR",
              "id": "grid.5842.b",
              "name": "University of Paris-Sud",
              "state": null,
              "state_code": null
             },
             {
              "city": "Orléans",
              "city_id": 2989317,
              "country": "France",
              "country_code": "FR",
              "id": "grid.112485.b",
              "name": "University of Orléans",
              "state": null,
              "state_code": null
             },
             {
              "name": "Institut Franco-européen de Chiropraxie (IFEC), Ivry-sur-Seine, France"
             }
            ],
            "current_organization_id": "",
            "first_name": "Mathieu",
            "last_name": "Picchiottino",
            "orcid": "",
            "raw_affiliation": [
             "CIAMS, Université Paris-Sud, Université Paris-Saclay, Orsay Cedex, France",
             "CIAMS, Université d’Orléans, Orléans, France",
             "Institut Franco-européen de Chiropraxie (IFEC), Ivry-sur-Seine, France"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Orsay",
              "city_id": 2989204,
              "country": "France",
              "country_code": "FR",
              "id": "grid.5842.b",
              "name": "University of Paris-Sud",
              "state": null,
              "state_code": null
             },
             {
              "city": "Orléans",
              "city_id": 2989317,
              "country": "France",
              "country_code": "FR",
              "id": "grid.112485.b",
              "name": "University of Orléans",
              "state": null,
              "state_code": null
             },
             {
              "name": "Institut Franco-européen de Chiropraxie (IFEC), Ivry-sur-Seine, France"
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Charlotte",
            "last_name": "Leboeuf-Yde",
            "orcid": "",
            "raw_affiliation": [
             "CIAMS, Université Paris-Sud, Université Paris-Saclay, Orsay Cedex, France",
             "CIAMS, Université d’Orléans, Orléans, France",
             "Institut Franco-européen de Chiropraxie (IFEC), Ivry-sur-Seine, France",
             "Institute for Regional Health Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Orsay",
              "city_id": 2989204,
              "country": "France",
              "country_code": "FR",
              "id": "grid.5842.b",
              "name": "University of Paris-Sud",
              "state": null,
              "state_code": null
             },
             {
              "city": "Orléans",
              "city_id": 2989317,
              "country": "France",
              "country_code": "FR",
              "id": "grid.112485.b",
              "name": "University of Orléans",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Olivier",
            "last_name": "Gagey",
            "orcid": "",
            "raw_affiliation": [
             "CIAMS, Université Paris-Sud, Université Paris-Saclay, Orsay Cedex, France",
             "CIAMS, Université d’Orléans, Orléans, France"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Gävle",
              "city_id": 2712414,
              "country": "Sweden",
              "country_code": "SE",
              "id": "grid.69292.36",
              "name": "University of Gaevle",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "David M.",
            "last_name": "Hallman",
            "orcid": "",
            "raw_affiliation": [
             "Centre for Musculoskeletal Research, Department of Occupational and Public Health Sciences, University of Gävle, Gävle, Sweden"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "The acute effects of joint manipulative techniques on markers of autonomic nervous system activity: a systematic review and meta-analysis of randomized sham-controlled trials"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Aarhus",
              "city_id": 2624652,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.154185.c",
              "name": "Aarhus University Hospital",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.154185.c",
            "first_name": "Agnethe",
            "last_name": "Berglund",
            "orcid": "['0000-0001-9185-1342']",
            "raw_affiliation": [
             "Department of Endocrinology and Internal Medicine, Aarhus University Hospital, Palle Juul-Jensens Boulevard 99, 8200, Aarhus N, Denmark",
             "Department of Molecular Medicine, Aarhus University Hospital, Brendstrupgaardsvej 21A, 8200, Aarhus N, Denmark"
            ],
            "researcher_id": "ur.01040333016.68"
           },
           {
            "affiliations": [
             {
              "city": "Aarhus",
              "city_id": 2624652,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.154185.c",
              "name": "Aarhus University Hospital",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.154185.c",
            "first_name": "Mette Hansen",
            "last_name": "Viuff",
            "orcid": "['0000-0001-6574-4893']",
            "raw_affiliation": [
             "Department of Endocrinology and Internal Medicine, Aarhus University Hospital, Palle Juul-Jensens Boulevard 99, 8200, Aarhus N, Denmark",
             "Department of Molecular Medicine, Aarhus University Hospital, Brendstrupgaardsvej 21A, 8200, Aarhus N, Denmark"
            ],
            "researcher_id": "ur.01040432511.10"
           },
           {
            "affiliations": [
             {
              "city": "Aarhus",
              "city_id": 2624652,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.154185.c",
              "name": "Aarhus University Hospital",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.7143.1",
              "name": "Odense University Hospital",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.154185.c",
            "first_name": "Anne",
            "last_name": "Skakkebæk",
            "orcid": "['0000-0001-9178-4901']",
            "raw_affiliation": [
             "Department of Endocrinology and Internal Medicine, Aarhus University Hospital, Palle Juul-Jensens Boulevard 99, 8200, Aarhus N, Denmark",
             "Department of Clinical Genetics, Odense University Hospital, J.B. Winsløws Vej 4, 5000, Odense C, Denmark"
            ],
            "researcher_id": "ur.01221406266.24"
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             },
             {
              "city": "Esbjerg",
              "city_id": 2622447,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.414576.5",
              "name": "Sydvestjysk Sygehus",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.414576.5",
            "first_name": "Simon",
            "last_name": "Chang",
            "orcid": "['0000-0003-1130-3659']",
            "raw_affiliation": [
             "Unit for Thrombosis Research, Department of Regional Health Research, University of Southern Denmark, Odense, Denmark",
             "Department of Clinical Biochemistry, Hospital of South West Jutland, Finsensgade 35, 6700, Esbjerg, Denmark"
            ],
            "researcher_id": "ur.0620372762.65"
           },
           {
            "affiliations": [
             {
              "city": "Aarhus",
              "city_id": 2624652,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.154185.c",
              "name": "Aarhus University Hospital",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.154185.c",
            "first_name": "Kirstine",
            "last_name": "Stochholm",
            "orcid": "['0000-0002-4408-3413']",
            "raw_affiliation": [
             "Department of Endocrinology and Internal Medicine, Aarhus University Hospital, Palle Juul-Jensens Boulevard 99, 8200, Aarhus N, Denmark",
             "Department of Pediatrics, Center of Rare Diseases, Aarhus University Hospital, Palle Juul-Jensens Boulevard 99, 8200, Aarhus N, Denmark"
            ],
            "researcher_id": "ur.01121260617.99"
           },
           {
            "affiliations": [
             {
              "city": "Aarhus",
              "city_id": 2624652,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.154185.c",
              "name": "Aarhus University Hospital",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.154185.c",
            "first_name": "Claus Højbjerg",
            "last_name": "Gravholt",
            "orcid": "['0000-0001-5924-1720']",
            "raw_affiliation": [
             "Department of Endocrinology and Internal Medicine, Aarhus University Hospital, Palle Juul-Jensens Boulevard 99, 8200, Aarhus N, Denmark",
             "Department of Molecular Medicine, Aarhus University Hospital, Brendstrupgaardsvej 21A, 8200, Aarhus N, Denmark"
            ],
            "researcher_id": "ur.01147751257.12"
           }
          ]
         ],
         "title": "Changes in the cohort composition of turner syndrome and severe non-diagnosis of Klinefelter, 47,XXX and 47,XYY syndrome: a nationwide cohort study"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "name": "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark"
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Anne Sofie Bøgh",
            "last_name": "Malling",
            "orcid": "",
            "raw_affiliation": [
             "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark",
             "Department of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "name": "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark"
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Bo Mohr",
            "last_name": "Morberg",
            "orcid": "",
            "raw_affiliation": [
             "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark",
             "Department of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "name": "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark"
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Lene",
            "last_name": "Wermuth",
            "orcid": "",
            "raw_affiliation": [
             "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark",
             "Department of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "name": "The Danish Rehabilitation Centre for Neuromuscular Diseases, Taastrup, Denmark"
             }
            ],
            "current_organization_id": "",
            "first_name": "Ole",
            "last_name": "Gredal",
            "orcid": "",
            "raw_affiliation": [
             "The Danish Rehabilitation Centre for Neuromuscular Diseases, Taastrup, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Copenhagen",
              "city_id": 2618425,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.5254.6",
              "name": "University of Copenhagen",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Per",
            "last_name": "Bech",
            "orcid": "",
            "raw_affiliation": [
             "Psychiatric Research Unit, Psychiatric Centre North Zealand, University of Copenhagen, Hillerød, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "name": "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark"
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Bente Rona",
            "last_name": "Jensen",
            "orcid": "",
            "raw_affiliation": [
             "Department of Neurology, Odense University Hospital, University of Southern Denmark, Odense, Denmark",
             "Department of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "The effect of 8 weeks of treatment with transcranial pulsed electromagnetic fields on hand tremor and inter-hand coherence in persons with Parkinson’s disease"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Jeff",
            "last_name": "Granhøj",
            "orcid": "",
            "raw_affiliation": [
             "Department of Molecular Medicine, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Henrik",
            "last_name": "Dimke",
            "orcid": "",
            "raw_affiliation": [
             "Department of Molecular Medicine, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Per",
            "last_name": "Svenningsen",
            "orcid": "",
            "raw_affiliation": [
             "Department of Molecular Medicine, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "A bacterial display system for effective selection of protein-biotin ligase BirA variants with novel peptide specificity"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Orsay",
              "city_id": 2989204,
              "country": "France",
              "country_code": "FR",
              "id": "grid.5842.b",
              "name": "University of Paris-Sud",
              "state": null,
              "state_code": null
             },
             {
              "city": "Orléans",
              "city_id": 2989317,
              "country": "France",
              "country_code": "FR",
              "id": "grid.112485.b",
              "name": "University of Orléans",
              "state": null,
              "state_code": null
             },
             {
              "name": "Institut Franco Européen de Chiropraxie, 24 boulevard Paul Vaillant Couturier, F- 94200, Ivry sur Seine, France"
             }
            ],
            "current_organization_id": "grid.5842.b",
            "first_name": "Guillaume",
            "last_name": "Goncalves",
            "orcid": "",
            "raw_affiliation": [
             "CIAMS, University of Paris-Sud, University of Paris-Saclay, F- 91405, Orsay Cedex, France",
             "CIAMS, University of Orléans, F-, 45067, Orléans, France",
             "Institut Franco Européen de Chiropraxie, 24 boulevard Paul Vaillant Couturier, F- 94200, Ivry sur Seine, France"
            ],
            "researcher_id": "ur.011635035523.73"
           },
           {
            "affiliations": [
             {
              "city": "Orsay",
              "city_id": 2989204,
              "country": "France",
              "country_code": "FR",
              "id": "grid.5842.b",
              "name": "University of Paris-Sud",
              "state": null,
              "state_code": null
             },
             {
              "city": "Orléans",
              "city_id": 2989317,
              "country": "France",
              "country_code": "FR",
              "id": "grid.112485.b",
              "name": "University of Orléans",
              "state": null,
              "state_code": null
             },
             {
              "name": "Institut Franco Européen de Chiropraxie, 24 boulevard Paul Vaillant Couturier, F- 94200, Ivry sur Seine, France"
             }
            ],
            "current_organization_id": "",
            "first_name": "Marine",
            "last_name": "Demortier",
            "orcid": "",
            "raw_affiliation": [
             "CIAMS, University of Paris-Sud, University of Paris-Saclay, F- 91405, Orsay Cedex, France",
             "CIAMS, University of Orléans, F-, 45067, Orléans, France",
             "Institut Franco Européen de Chiropraxie, 24 boulevard Paul Vaillant Couturier, F- 94200, Ivry sur Seine, France"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Orsay",
              "city_id": 2989204,
              "country": "France",
              "country_code": "FR",
              "id": "grid.5842.b",
              "name": "University of Paris-Sud",
              "state": null,
              "state_code": null
             },
             {
              "city": "Orléans",
              "city_id": 2989317,
              "country": "France",
              "country_code": "FR",
              "id": "grid.112485.b",
              "name": "University of Orléans",
              "state": null,
              "state_code": null
             },
             {
              "name": "Institut Franco Européen de Chiropraxie, 24 boulevard Paul Vaillant Couturier, F- 94200, Ivry sur Seine, France"
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.112485.b",
            "first_name": "Charlotte",
            "last_name": "Leboeuf-Yde",
            "orcid": "",
            "raw_affiliation": [
             "CIAMS, University of Paris-Sud, University of Paris-Saclay, F- 91405, Orsay Cedex, France",
             "CIAMS, University of Orléans, F-, 45067, Orléans, France",
             "Institut Franco Européen de Chiropraxie, 24 boulevard Paul Vaillant Couturier, F- 94200, Ivry sur Seine, France",
             "Institute for Regional Health Research, University of Southern Denmark, DK-5000, Odense, Denmark"
            ],
            "researcher_id": "ur.01047221630.75"
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "grid.10825.3e",
            "first_name": "Niels",
            "last_name": "Wedderkopp",
            "orcid": "['0000-0002-9660-6618']",
            "raw_affiliation": [
             "Institute for Regional Health Research, University of Southern Denmark, DK-5000, Odense, Denmark"
            ],
            "researcher_id": "ur.0765243721.86"
           }
          ]
         ],
         "title": "Chiropractic conservatism and the ability to determine contra-indications, non-indications, and indications to chiropractic care: a cross-sectional survey of chiropractic students"
        },
        {
         "author_affiliations": [
          [
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.7143.1",
              "name": "Odense University Hospital",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Lærke K.",
            "last_name": "Tolstrup",
            "orcid": "",
            "raw_affiliation": [
             "Department of Oncology, Odense University Hospital, Odense, Denmark",
             "REHPA –The Danish Knowledge Center for Rehabilitation and Palliative Care, University of Southern Denmark, Odense, Denmark",
             "Institute of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.7143.1",
              "name": "Odense University Hospital",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Lars",
            "last_name": "Bastholt",
            "orcid": "",
            "raw_affiliation": [
             "Department of Oncology, Odense University Hospital, Odense, Denmark",
             "Institute of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.7143.1",
              "name": "Odense University Hospital",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Ann-Dorthe",
            "last_name": "Zwisler",
            "orcid": "",
            "raw_affiliation": [
             "Department of Oncology, Odense University Hospital, Odense, Denmark",
             "REHPA –The Danish Knowledge Center for Rehabilitation and Palliative Care, University of Southern Denmark, Odense, Denmark",
             "Institute of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.7143.1",
              "name": "Odense University Hospital",
              "state": null,
              "state_code": null
             },
             {
              "city": "Odense",
              "city_id": 2615876,
              "country": "Denmark",
              "country_code": "DK",
              "id": "grid.10825.3e",
              "name": "University of Southern Denmark",
              "state": null,
              "state_code": null
             }
            ],
            "current_organization_id": "",
            "first_name": "Karin B.",
            "last_name": "Dieperink",
            "orcid": "",
            "raw_affiliation": [
             "Department of Oncology, Odense University Hospital, Odense, Denmark",
             "REHPA –The Danish Knowledge Center for Rehabilitation and Palliative Care, University of Southern Denmark, Odense, Denmark",
             "Institute of Clinical Research, University of Southern Denmark, Odense, Denmark"
            ],
            "researcher_id": ""
           },
           {
            "affiliations": [
             {
              "name": "Department of Oncology, Copenhagen University Hospital, Rigshospitalet, Copenhagen, Denmark"
             }
            ],
            "current_organization_id": "",
            "first_name": "Helle",
            "last_name": "Pappot",
            "orcid": "",
            "raw_affiliation": [
             "Department of Oncology, Copenhagen University Hospital, Rigshospitalet, Copenhagen, Denmark"
            ],
            "researcher_id": ""
           }
          ]
         ],
         "title": "Selection of patient reported outcomes questions reflecting symptoms for patients with metastatic melanoma receiving immunotherapy"
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4529140624: [('publications', 10), ('_stats', 3)]>"
      ]
     },
     "execution_count": 12,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%%dsl_query \n",
    "search publications where research_orgs.id = \"grid.10825.3e\" \n",
    "return publications[author_affiliations+title] limit 10"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{'type': 'json', 'description': \"List of JSON lists of researchers' first and last names and affiliations\", 'long_description': None, 'is_entity': False, 'is_filter': False, 'is_facet': False}\n"
     ]
    }
   ],
   "source": [
    "infos = %dsl_query describe source publications\n",
    "print(infos['fields']['author_affiliations'])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "Looks good"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-53\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-53"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Policy_documents:  422079\n",
      "Returned Policy_documents: 20\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "{'date_inserted': '2017-01-17'}"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search policy_documents return policy_documents[date_inserted] sort by year\n",
    "res['policy_documents'][0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Policy_documents:  0\n",
      "Returned Policy_documents: 0\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 0
       },
       "policy_documents": []
      },
      "text/plain": [
       "<dimcli.Result object #4531134304: [('policy_documents', 0), ('_stats', 1)]>"
      ]
     },
     "execution_count": 88,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%%dsl_query\n",
    "search policy_documents where date_inserted=\"2017-01-17\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### ISSUES\n",
    "* the field is available but it cannot be used to filter? the same seems to apply to publications.. so maybe I'd doing something wrong"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  0\n",
      "Returned Publications: 0\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 0
       },
       "publications": []
      },
      "text/plain": [
       "<dimcli.Result object #4531148952: [('publications', 0), ('_stats', 1)]>"
      ]
     },
     "execution_count": 92,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search publications where date_inserted=\"2018-10-29\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-107 \n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-107"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'label',\n",
       " 'description': 'Original funding currency',\n",
       " 'long_description': None,\n",
       " 'is_entity': False,\n",
       " 'is_filter': True,\n",
       " 'is_facet': True}"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query describe source grants \n",
    "res['fields']['funding_currency']"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "New fields does not appear..."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  432\n",
      "Returned Funding_currency: 12\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[{'id': 'EUR', 'count': 101},\n",
       " {'id': 'USD', 'count': 91},\n",
       " {'id': 'JPY', 'count': 83},\n",
       " {'id': 'GBP', 'count': 32},\n",
       " {'id': 'CNY', 'count': 25},\n",
       " {'id': 'CAD', 'count': 20},\n",
       " {'id': 'PLN', 'count': 12},\n",
       " {'id': 'CHF', 'count': 6},\n",
       " {'id': 'HKD', 'count': 6},\n",
       " {'id': 'CZK', 'count': 5},\n",
       " {'id': 'SEK', 'count': 2},\n",
       " {'id': 'NOK', 'count': 1}]"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search grants for \"RDF\" return funding_currency\n",
    "res['funding_currency']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  83\n",
      "Returned Grants: 20\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 83
       },
       "grants": [
        {
         "active_year": [
          2016,
          2017,
          2018,
          2019
         ],
         "end_date": "2019-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6533523",
         "language": "ja",
         "original_title": "オープンデータ活用のための名前空間の整合性の研究",
         "project_num": "16K00421",
         "start_date": "2016-10-21",
         "start_year": 2016,
         "title": "A study of the integrity of the name space for open data utilization",
         "title_language": "ja"
        },
        {
         "active_year": [
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5923292",
         "language": "ja",
         "original_title": "全人類のゲノム変異を包括的に扱うリファレンス・ゲノム・グラフのデータ構造の研究",
         "project_num": "16K12531",
         "start_date": "2016-04-01",
         "start_year": 2016,
         "title": "A study of the data structure of the reference genome graph dealing with the genomic variation of all mankind comprehensive",
         "title_language": "ja"
        },
        {
         "active_year": [
          2015,
          2016,
          2017,
          2018,
          2019
         ],
         "end_date": "2019-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5851720",
         "language": "ja",
         "original_title": "Semantic chronology - Construction of infrastructure for visualization and utilization of knowledge along temporal axis",
         "project_num": "15H01723",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Semantic chronology - Construction of infrastructure for visualization and utilization of knowledge along temporal axis",
         "title_language": "en"
        },
        {
         "active_year": [
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5854445",
         "language": "ja",
         "original_title": "断層内の非晶質珪酸塩の構造と成因",
         "project_num": "15H03746",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Structure and origin of the amorphous silicates in the fault",
         "title_language": "ja"
        },
        {
         "active_year": [
          2015,
          2016,
          2017,
          2018,
          2019,
          2020
         ],
         "end_date": "2020-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5847420",
         "language": "ja",
         "original_title": "Colonial Modernity in the Andes: A Comprehensive Study of Voceroy Toledo's General Resettlement",
         "project_num": "15H01911",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Colonial Modernity in the Andes: A Comprehensive Study of Voceroy Toledo's General Resettlement",
         "title_language": "en"
        },
        {
         "active_year": [
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5877103",
         "language": "ja",
         "original_title": "大規模多言語RDFグラフからのクラススキーマ階層の構築および洗練",
         "project_num": "15K16090",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Construction and refinement of the class schema hierarchy from the large-scale multi-language RDF graph",
         "title_language": "ja"
        },
        {
         "active_year": [
          2015,
          2016,
          2017
         ],
         "end_date": "2017-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5877547",
         "language": "en",
         "original_title": "Real-time, Best-effort Query Processing of Semantic Web data",
         "project_num": "15K15994",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Real-time, Best-effort Query Processing of Semantic Web data",
         "title_language": "en"
        },
        {
         "active_year": [
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5860458",
         "language": "ja",
         "original_title": "リンクドサービスネットワークのビックデータ上でのウェブサービス発見と連携",
         "project_num": "15K00428",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Web service discovery and cooperation on the linked service network of big data",
         "title_language": "ja"
        },
        {
         "active_year": [
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5857449",
         "language": "ja",
         "original_title": "クラウドコンピューティング上の連続的ソフトウェア工学",
         "project_num": "15K00111",
         "start_date": "2015-04-01",
         "start_year": 2015,
         "title": "Continuous software engineering on the cloud computing",
         "title_language": "ja"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017,
          2018,
          2019
         ],
         "end_date": "2019-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6128245",
         "language": "ja",
         "original_title": "Mechanisms for providing open access to historical knowledge and information,and the restructuring of methods to permit effective use of historical information",
         "project_num": "26240049",
         "start_date": "2014-04-01",
         "start_year": 2014,
         "title": "Mechanisms for providing open access to historical knowledge and information,and the restructuring of methods to permit effective use of historical information",
         "title_language": "en"
        },
        {
         "active_year": [
          2014,
          2015,
          2016
         ],
         "end_date": "2016-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6155861",
         "language": "en",
         "original_title": "Effective liquid extraction of Sr(II) from contaminated neutral water",
         "project_num": "26630478",
         "start_date": "2014-04-01",
         "start_year": 2014,
         "title": "Effective liquid extraction of Sr(II) from contaminated neutral water",
         "title_language": "en"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017
         ],
         "end_date": "2017-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6138603",
         "language": "en",
         "original_title": "Mash-up Design for Linked Open Data",
         "project_num": "26330349",
         "start_date": "2014-04-01",
         "start_year": 2014,
         "title": "Mash-up Design for Linked Open Data",
         "title_language": "en"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6133477",
         "language": "ja",
         "original_title": "オントロジー指向による考古遺跡情報の知識体系化－東南アジア大陸部を事例に－",
         "project_num": "26280122",
         "start_date": "2014-04-01",
         "start_year": 2014,
         "title": "Knowledge of the archaeological ruins of information by the ontology-oriented - mainland Southeast Asia in case the -",
         "title_language": "ja"
        },
        {
         "active_year": [
          2013,
          2014,
          2015,
          2016
         ],
         "end_date": "2016-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6134684",
         "language": "en",
         "original_title": "Development of Knowledge Integrated Database for Clinical Information Retrieval System",
         "project_num": "25870156",
         "start_date": "2013-04-01",
         "start_year": 2013,
         "title": "Development of Knowledge Integrated Database for Clinical Information Retrieval System",
         "title_language": "en"
        },
        {
         "active_year": [
          2013,
          2014,
          2015,
          2016
         ],
         "end_date": "2016-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6118847",
         "language": "en",
         "original_title": "Structural analysis of DLC film by means of  synchrotron light",
         "project_num": "25420783",
         "start_date": "2013-04-01",
         "start_year": 2013,
         "title": "Structural analysis of DLC film by means of  synchrotron light",
         "title_language": "en"
        },
        {
         "active_year": [
          2013,
          2014,
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6115368",
         "language": "ja",
         "original_title": "セマンティックWebデータに対する推論基盤技術の研究開発",
         "project_num": "25330360",
         "start_date": "2013-04-01",
         "start_year": 2013,
         "title": "Research and development of the reasoning underlying technology for the Semantic Web data",
         "title_language": "ja"
        },
        {
         "active_year": [
          2013
         ],
         "end_date": "2013-12-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5813073",
         "language": "ja",
         "original_title": "オントロジーに基づく知識情報処理による高分解能衛星データの自動判読に関する研究",
         "project_num": "13J01726",
         "start_date": "2013-01-01",
         "start_year": 2013,
         "title": "Study on the automatic interpretation of high-resolution satellite data by the knowledge information processing based on ontology",
         "title_language": "ja"
        },
        {
         "active_year": [
          2012,
          2013,
          2014,
          2015
         ],
         "end_date": "2015-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6102494",
         "language": "en",
         "original_title": "Developmental Studies on Metadata Cloud based on Efficient Join for Linked Data Search",
         "project_num": "24680010",
         "start_date": "2012-04-01",
         "start_year": 2012,
         "title": "Developmental Studies on Metadata Cloud based on Efficient Join for Linked Data Search",
         "title_language": "en"
        },
        {
         "active_year": [
          2012,
          2013
         ],
         "end_date": "2013-12-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.5795308",
         "language": "ja",
         "original_title": "ファイトレメディエーション効率化のための植物オミクス解析およびデータベース開発",
         "project_num": "12J07771",
         "start_date": "2012-01-01",
         "start_year": 2012,
         "title": "Plant omics analysis and database development for the phytoremediation efficiency",
         "title_language": "ja"
        },
        {
         "active_year": [
          2011,
          2012,
          2013,
          2014,
          2015
         ],
         "end_date": "2015-03-31",
         "funders": [
          {
           "acronym": "JSPS",
           "country_name": "Japan",
           "id": "grid.54432.34",
           "name": "Japan Society for the Promotion of Science"
          }
         ],
         "funding_org_name": "Japan Society for the Promotion of Science",
         "id": "grant.6061066",
         "language": "en",
         "original_title": "Sclable Semantic Service Infrastrucutre for Cyber-Physical System",
         "project_num": "23500199",
         "start_date": "2011-04-28",
         "start_year": 2011,
         "title": "Sclable Semantic Service Infrastrucutre for Cyber-Physical System",
         "title_language": "en"
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4529336048: [('grants', 20), ('_stats', 1)]>"
      ]
     },
     "execution_count": 34,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search grants for \"RDF\" where funding_currency=\"JPY\"\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  48\n",
      "Returned Grants: 20\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 48
       },
       "grants": [
        {
         "active_year": [
          2018,
          2019
         ],
         "end_date": "2019-08-31",
         "funders": [
          {
           "acronym": "FAPESP",
           "country_name": "Brazil",
           "id": "grid.452907.d",
           "name": "São Paulo Research Foundation"
          }
         ],
         "funding_org_name": "São Paulo Research Foundation",
         "id": "grant.7849953",
         "language": "en",
         "original_title": "Managing the effects of linked data evolution",
         "project_num": "18/08082-0",
         "start_date": "2018-09-01",
         "start_year": 2018,
         "title": "Managing the effects of linked data evolution",
         "title_language": "en"
        },
        {
         "active_year": [
          2018
         ],
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.7518917",
         "language": "en",
         "original_title": "Understanding the atomic structure of shear bands in metallic glass using a newly developed STEM diffraction technique: RDF imaging",
         "project_num": "394558024",
         "start_date": "2018-01-01",
         "start_year": 2018,
         "title": "Understanding the atomic structure of shear bands in metallic glass using a newly developed STEM diffraction technique: RDF imaging",
         "title_language": "en"
        },
        {
         "active_year": [
          2018
         ],
         "end_date": "2018-12-31",
         "funders": [
          {
           "acronym": "RFBR",
           "country_name": "Russia",
           "id": "grid.452899.b",
           "name": "Russian Foundation for Basic Research"
          }
         ],
         "funding_org_name": "Russian Foundation for Basic Research",
         "id": "grant.7596496",
         "language": "ru",
         "original_title": "Разработка математических и методологических основ систем поддержки принятия решений, основанных на семиотическом подходе",
         "project_num": "18-07-01044",
         "start_date": "2018-01-01",
         "start_year": 2018,
         "title": "Development of mathematical and methodological foundations of decision support systems based on the semiotic approach",
         "title_language": "ru"
        },
        {
         "active_year": [
          2017,
          2018,
          2019,
          2020,
          2021
         ],
         "end_date": "2021-09-30",
         "funders": [
          {
           "acronym": "FAPESP",
           "country_name": "Brazil",
           "id": "grid.452907.d",
           "name": "São Paulo Research Foundation"
          }
         ],
         "funding_org_name": "São Paulo Research Foundation",
         "id": "grant.7443423",
         "language": "pt",
         "original_title": "EvOLoD: evolução de dados interconectados na Web Semântica",
         "project_num": "17/02325-5",
         "start_date": "2017-10-01",
         "start_year": 2017,
         "title": "EvOLoD: evolution of interconnected data in the Semantic Web",
         "title_language": "pt"
        },
        {
         "active_year": [
          2017
         ],
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.7168985",
         "language": "en",
         "original_title": "Query- and Specification Languages for Graph- and Grid-Structured Data",
         "project_num": "369116833",
         "start_date": "2017-01-01",
         "start_year": 2017,
         "title": "Query- and Specification Languages for Graph- and Grid-Structured Data",
         "title_language": "en"
        },
        {
         "active_year": [
          2015
         ],
         "end_date": "2015-12-31",
         "funders": [
          {
           "acronym": "RFBR",
           "country_name": "Russia",
           "id": "grid.452899.b",
           "name": "Russian Foundation for Basic Research"
          }
         ],
         "funding_org_name": "Russian Foundation for Basic Research",
         "id": "grant.6748888",
         "language": "ru",
         "original_title": "Представление классификационных метаданных электронных библиотек по технологии  связанных открытых данных (Linked Open Data)",
         "project_num": "15-07-05265",
         "start_date": "2015-01-01",
         "start_year": 2015,
         "title": "Presentation of the classification metadata of digital libraries on the technology of related open data (Linked Open Data)",
         "title_language": "ru"
        },
        {
         "active_year": [
          2015
         ],
         "end_date": "2015-12-31",
         "funders": [
          {
           "acronym": "RFBR",
           "country_name": "Russia",
           "id": "grid.452899.b",
           "name": "Russian Foundation for Basic Research"
          }
         ],
         "funding_org_name": "Russian Foundation for Basic Research",
         "id": "grant.6749344",
         "language": "ru",
         "original_title": "Семантическая публикация  полного собрания сочинений Л.Н.Толстого: модель, технологии и реализация",
         "project_num": "15-06-99523",
         "start_date": "2015-01-01",
         "start_year": 2015,
         "title": "Semantic publication of the complete works of Leo Tolstoy: model, technology and implementation",
         "title_language": "ru"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017
         ],
         "end_date": "2017-11-30",
         "funders": [
          {
           "acronym": "CNPq",
           "country_name": "Brazil",
           "id": "grid.450640.3",
           "name": "National Council for Scientific and Technological Development"
          }
         ],
         "funding_org_name": "National Council for Scientific and Technological Development",
         "id": "grant.6436730",
         "language": "pt",
         "original_title": "Web de dados: fundamentos, técnicas e aplicações",
         "project_num": "CNPq_f9a481ba82",
         "start_date": "2014-11-19",
         "start_year": 2014,
         "title": "Data Web: fundamentals, techniques and applications",
         "title_language": "pt"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017
         ],
         "end_date": "2017-11-30",
         "funders": [
          {
           "acronym": "CNPq",
           "country_name": "Brazil",
           "id": "grid.450640.3",
           "name": "National Council for Scientific and Technological Development"
          }
         ],
         "funding_org_name": "National Council for Scientific and Technological Development",
         "id": "grant.7560450",
         "language": "pt",
         "original_title": "Indexação semântica de textos em língua portuguesa: uma abordagem inferencialista",
         "project_num": "CNPq_5d69a1b162",
         "start_date": "2014-11-17",
         "start_year": 2014,
         "title": "Semantic indexing of texts in English: An approach inferentialist",
         "title_language": "pt"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017
         ],
         "end_date": "2017-11-30",
         "funders": [
          {
           "acronym": "CNPq",
           "country_name": "Brazil",
           "id": "grid.450640.3",
           "name": "National Council for Scientific and Technological Development"
          }
         ],
         "funding_org_name": "National Council for Scientific and Technological Development",
         "id": "grant.7555324",
         "language": "pt",
         "original_title": "Indexação semântica de textos em língua portuguesa: uma abordagem inferencialista",
         "project_num": "CNPq_79d9d595ff",
         "start_date": "2014-11-17",
         "start_year": 2014,
         "title": "Semantic indexing of texts in English: An approach inferentialist",
         "title_language": "pt"
        },
        {
         "active_year": [
          2014
         ],
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.4838857",
         "language": "de",
         "original_title": "chronOntology: ein Zeit-Gazetteer für die historisch-kulturwissenschaftlichen Fächer",
         "project_num": "247900032",
         "start_date": "2014-01-01",
         "start_year": 2014,
         "title": "chronOntology: a time-Gazetteer for the historical and cultural sciences",
         "title_language": "de"
        },
        {
         "active_year": [
          2014,
          2015,
          2016,
          2017,
          2018
         ],
         "end_date": "2018-12-31",
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.4833375",
         "language": "en",
         "original_title": "Event-centric Exploration and Analysis of Linked Open Data",
         "project_num": "249438185",
         "start_date": "2014-01-01",
         "start_year": 2014,
         "title": "Event-centric Exploration and Analysis of Linked Open Data",
         "title_language": "en"
        },
        {
         "active_year": [
          2013,
          2014,
          2015,
          2016
         ],
         "end_date": "2016-12-31",
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.4829147",
         "language": "en",
         "original_title": "Generation of Ontologies from Linked Data",
         "project_num": "233626375",
         "start_date": "2013-01-01",
         "start_year": 2013,
         "title": "Generation of Ontologies from Linked Data",
         "title_language": "en"
        },
        {
         "active_year": [
          2011,
          2012,
          2013,
          2014,
          2015
         ],
         "end_date": "2015-03-01",
         "funders": [
          {
           "acronym": "BELSPO",
           "country_name": "Belgium",
           "id": "grid.425119.a",
           "name": "Belgian Federal Science Policy Office"
          }
         ],
         "funding_org_name": "Belgian Federal Science Policy Office",
         "id": "grant.6785460",
         "language": "en",
         "original_title": "Development of reactor and progress technology for biomass torrefaction",
         "project_num": "8778549820",
         "start_date": "2011-03-01",
         "start_year": 2011,
         "title": "Development of reactor and progress technology for biomass torrefaction",
         "title_language": "en"
        },
        {
         "active_year": [
          2011,
          2012,
          2013,
          2014
         ],
         "end_date": "2014-01-31",
         "funders": [
          {
           "acronym": "BELSPO",
           "country_name": "Belgium",
           "id": "grid.425119.a",
           "name": "Belgian Federal Science Policy Office"
          }
         ],
         "funding_org_name": "Belgian Federal Science Policy Office",
         "id": "grant.6789977",
         "language": "en",
         "original_title": "Open Semantic Cloud for Brussels",
         "project_num": "3500000000020810",
         "start_date": "2011-02-01",
         "start_year": 2011,
         "title": "Open Semantic Cloud for Brussels",
         "title_language": "en"
        },
        {
         "active_year": [
          2010
         ],
         "end_date": "2010-12-31",
         "funders": [
          {
           "acronym": "RFBR",
           "country_name": "Russia",
           "id": "grid.452899.b",
           "name": "Russian Foundation for Basic Research"
          }
         ],
         "funding_org_name": "Russian Foundation for Basic Research",
         "id": "grant.5365064",
         "language": "ru",
         "original_title": "Фундаментальные исследования физических процессов в плазменных струях плазмотронов применительно к их использованию в установках плазменного пиролиза",
         "project_num": "10-08-90445",
         "start_date": "2010-01-01",
         "start_year": 2010,
         "title": "Fundamental studies of the physical processes in a plasma jet of plasma torches in relation to their use in a plasma pyrolysis",
         "title_language": "ru"
        },
        {
         "active_year": [
          2010
         ],
         "funders": [
          {
           "acronym": "NRF",
           "country_name": "South Africa",
           "id": "grid.425534.1",
           "name": "National Research Foundation"
          }
         ],
         "funding_org_name": "National Research Foundation",
         "id": "grant.7364434",
         "language": "en",
         "original_title": "Feasibility study of refuse-derived fuel (RDF) from city of Cape Town municipal solid waste",
         "project_num": "20.500.11892/3908",
         "start_date": "2010-01-01",
         "start_year": 2010,
         "title": "Feasibility study of refuse-derived fuel (RDF) from city of Cape Town municipal solid waste",
         "title_language": "en"
        },
        {
         "active_year": [
          2010,
          2011,
          2012,
          2013,
          2014,
          2015
         ],
         "end_date": "2015-12-31",
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.4815426",
         "language": "en",
         "original_title": "Mobile map applications based on user generated content for cartographic communication",
         "project_num": "184365011",
         "start_date": "2010-01-01",
         "start_year": 2010,
         "title": "Mobile map applications based on user generated content for cartographic communication",
         "title_language": "en"
        },
        {
         "active_year": [
          2010
         ],
         "end_date": "2010-12-31",
         "funders": [
          {
           "acronym": "RFBR",
           "country_name": "Russia",
           "id": "grid.452899.b",
           "name": "Russian Foundation for Basic Research"
          }
         ],
         "funding_org_name": "Russian Foundation for Basic Research",
         "id": "grant.5353246",
         "language": "ru",
         "original_title": "Методы формирования семантической метаинформации для слабоструктурированных документов на основе технологий  Semantic Web (СЕМАФОР)",
         "project_num": "10-07-90005",
         "start_date": "2010-01-01",
         "start_year": 2010,
         "title": "Methods of formation of semantic meta-information for semistructured documents based on Semantic Web technologies (semaphore)",
         "title_language": "ru"
        },
        {
         "active_year": [
          2009,
          2010,
          2011,
          2012,
          2013,
          2014
         ],
         "end_date": "2014-12-31",
         "funders": [
          {
           "acronym": "DFG",
           "country_name": "Germany",
           "id": "grid.424150.6",
           "name": "German Research Foundation"
          }
         ],
         "funding_org_name": "German Research Foundation",
         "id": "grant.4806493",
         "language": "en",
         "original_title": "Federative Factory Data Management (FFDM) based on Service Oriented Architecture (SOA) and Semantic Model Description on XML and RDF for Manufacturing Products",
         "project_num": "138690695",
         "start_date": "2009-01-01",
         "start_year": 2009,
         "title": "Federative Factory Data Management (FFDM) based on Service Oriented Architecture (SOA) and Semantic Model Description on XML and RDF for Manufacturing Products",
         "title_language": "en"
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4529570536: [('grants', 20), ('_stats', 1)]>"
      ]
     },
     "execution_count": 35,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search grants for \"RDF\" where funding_currency is empty return grants"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "Looks good"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-97\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-97"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  354\n",
      "Returned Grants: 1\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "limit": 1,
        "offset": 0,
        "total_count": 354
       },
       "grants": [
        {
         "funding_nzd": 766580350
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4529585008: [('grants', 1), ('_stats', 3)]>"
      ]
     },
     "execution_count": 38,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search grants for \"RDF\" where funding_nzd is not empty return grants[funding_nzd] limit 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  3701728\n",
      "Returned Grants: 1\n"
     ]
    }
   ],
   "source": [
    "res = %dsl_query search grants where funding_nzd is not empty return grants limit 1"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "Looks good"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-118\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-118"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "new field altmetric_id"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'integer',\n",
       " 'description': 'AltMetric Publication ID',\n",
       " 'long_description': None,\n",
       " 'is_entity': False,\n",
       " 'is_filter': True,\n",
       " 'is_facet': False}"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query describe source publications \n",
    "res['fields']['altmetric_id']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  0\n",
      "Returned Publications: 0\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 0
       },
       "publications": []
      },
      "text/plain": [
       "<dimcli.Result object #4529766808: [('publications', 0), ('_stats', 1)]>"
      ]
     },
     "execution_count": 42,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search publications for \"ghana\" where altmetric_id = \"123\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  10068170\n",
      "Returned Publications: 1\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[{'title': 'The in vivo specificity of synaptic Gβ and Gγ subunits to the α2a adrenergic receptor at CNS synapses',\n",
       "  'altmetric_id': 55316946}]"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search publications where altmetric_id is not empty return publications[altmetric_id+title] limit 1 skip 500\n",
    "res['publications']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  1\n",
      "Returned Publications: 1\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[{'title': 'The in vivo specificity of synaptic Gβ and Gγ subunits to the α2a adrenergic receptor at CNS synapses',\n",
       "  'altmetric_id': 55316946}]"
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search publications where altmetric_id=\"55316946\" return publications[altmetric_id+title]\n",
    "res['publications']"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "Looks good"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-108\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-108"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "research_org_state_names field is deprecated as a facet"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'string',\n",
       " 'description': 'GeoNames state name',\n",
       " 'long_description': None,\n",
       " 'is_entity': False,\n",
       " 'is_filter': True,\n",
       " 'is_facet': False}"
      ]
     },
     "execution_count": 48,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query describe source publications \n",
    "res['fields']['research_org_state_names']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  18\n",
      "Returned Publications: 18\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[{'research_org_state_names': ['Texas', 'Chinandega', 'San Salvador']},\n",
       " {'research_org_state_names': ['New York',\n",
       "   'Massachusetts',\n",
       "   'Chinandega',\n",
       "   'Rivas']},\n",
       " {'research_org_state_names': ['Managua',\n",
       "   'Chinandega',\n",
       "   'Texas',\n",
       "   'San Salvador']},\n",
       " {'research_org_state_names': ['Texas',\n",
       "   'San Salvador',\n",
       "   'Usulutan',\n",
       "   'Chinandega']},\n",
       " {'research_org_state_names': ['Chinandega']},\n",
       " {'research_org_state_names': ['Chinandega']},\n",
       " {'research_org_state_names': ['Chinandega']},\n",
       " {'research_org_state_names': ['Chinandega']},\n",
       " {'research_org_state_names': ['Texas', 'Massachusetts', 'Chinandega']},\n",
       " {'research_org_state_names': ['Chinandega']},\n",
       " {'research_org_state_names': ['Illinois',\n",
       "   'Florida',\n",
       "   'Pennsylvania',\n",
       "   'California',\n",
       "   'Chinandega']},\n",
       " {'research_org_state_names': ['Lima', 'Chinandega', 'Managua']},\n",
       " {'research_org_state_names': ['Luxembourg',\n",
       "   'Geneva',\n",
       "   'Illinois',\n",
       "   'Colorado',\n",
       "   'Missouri',\n",
       "   'Selangor',\n",
       "   'Chinandega',\n",
       "   'Pennsylvania',\n",
       "   'Ontario',\n",
       "   'Virginia',\n",
       "   'California',\n",
       "   'Florida',\n",
       "   'Kansas',\n",
       "   'North Carolina',\n",
       "   'Iowa',\n",
       "   \"Provence-Alpes-Cote d'Azur\",\n",
       "   'Massachusetts',\n",
       "   'Vermont',\n",
       "   'Gauteng',\n",
       "   'Texas',\n",
       "   'Indiana']},\n",
       " {'research_org_state_names': ['Chinandega']},\n",
       " {'research_org_state_names': ['Guanacaste',\n",
       "   'District of Columbia',\n",
       "   'Hauts-de-France',\n",
       "   'Chinandega',\n",
       "   'San Jose']},\n",
       " {'research_org_state_names': ['Guatemala',\n",
       "   'Chinandega',\n",
       "   'Mexico City',\n",
       "   'Minnesota']},\n",
       " {'research_org_state_names': ['Francisco Morazan', 'Chinandega', 'Valle']},\n",
       " {'research_org_state_names': ['Chinandega']}]"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search publications where research_org_state_names~\"China\" return publications[research_org_state_names]\n",
    "res['publications']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Semantic Error\n",
      "Semantic errors found:\n",
      "\tFacet 'research_org_state_names' is not present in source 'publications'. Available facets are: FOR,FOR_first,HRCS_HC,HRCS_RAC,RCDC,funder_countries,funders,journal,mesh_terms,open_access_categories,publisher,referenced_pubs,research_org_cities,research_org_countries,research_org_state_codes,research_orgs,researchers,year\n"
     ]
    }
   ],
   "source": [
    "%dsl_query search publications where research_org_state_names~\"China\" return research_org_state_names\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  18\n",
      "Returned Research_org_state_codes: 13\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[{'id': 'US-TX', 'count': 5, 'name': 'Texas'},\n",
       " {'id': 'US-MA', 'count': 3, 'name': 'Massachusetts'},\n",
       " {'id': 'US-CA', 'count': 2, 'name': 'California'},\n",
       " {'id': 'US-PA', 'count': 2, 'name': 'Pennsylvania'},\n",
       " {'id': 'CA-ON', 'count': 1, 'name': 'Ontario'},\n",
       " {'id': 'US-DC', 'count': 1, 'name': 'District of Columbia'},\n",
       " {'id': 'US-IA', 'count': 1, 'name': 'Iowa'},\n",
       " {'id': 'US-IN', 'count': 1, 'name': 'Indiana'},\n",
       " {'id': 'US-MN', 'count': 1, 'name': 'Minnesota'},\n",
       " {'id': 'US-MO', 'count': 1, 'name': 'Missouri'},\n",
       " {'id': 'US-NC', 'count': 1, 'name': 'North Carolina'},\n",
       " {'id': 'US-NY', 'count': 1, 'name': 'New York'},\n",
       " {'id': 'US-VA', 'count': 1, 'name': 'Virginia'}]"
      ]
     },
     "execution_count": 56,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search publications where research_org_state_names~\"China\" return research_org_state_codes\n",
    "res['research_org_state_codes']"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "* the functionality works correctly\n",
    "* unsure how to correlated semantically research_org_state_codes with research_org_state_names... the examples above seem rather different. But this is more of a data question!"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### PROBLEM\n",
    "* if I filter for `research_org_state_codes.name` I don't get the same results as when I return `research_org_state_codes`\n",
    "\n",
    "For example:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  0\n",
      "Returned Publications: 0\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 0
       },
       "publications": []
      },
      "text/plain": [
       "<dimcli.Result object #4530103296: [('publications', 0), ('_stats', 1)]>"
      ]
     },
     "execution_count": 58,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search publications where research_org_state_codes.name=\"Texas\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-109\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-109"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "Disable facet recent_citations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'integer',\n",
       " 'description': 'Number of citations received in the last two years. Does not support emptiness filters',\n",
       " 'long_description': None,\n",
       " 'is_entity': False,\n",
       " 'is_filter': True,\n",
       " 'is_facet': False}"
      ]
     },
     "execution_count": 57,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query describe source publications \n",
    "res['fields']['recent_citations']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Semantic Error\n",
      "Semantic errors found:\n",
      "\tFacet 'recent_citations' is not present in source 'publications'. Available facets are: FOR,FOR_first,HRCS_HC,HRCS_RAC,RCDC,funder_countries,funders,journal,mesh_terms,open_access_categories,publisher,referenced_pubs,research_org_cities,research_org_countries,research_org_state_codes,research_orgs,researchers,year\n"
     ]
    }
   ],
   "source": [
    "%dsl_query search publications where journal.title=\"Nature\" return recent_citations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Publications:  664446\n",
      "Returned Publications: 3\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "limit": 3,
        "offset": 0,
        "total_count": 664446
       },
       "publications": [
        {
         "doi": "10.1038/nmeth.2089",
         "recent_citations": 8242
        },
        {
         "doi": "10.1038/nature14539",
         "recent_citations": 7354
        },
        {
         "doi": "10.1038/nmeth.2019",
         "recent_citations": 6933
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4530132360: [('publications', 3), ('_stats', 3)]>"
      ]
     },
     "execution_count": 70,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search publications where journal.title=\"Nature\" return publications[doi+recent_citations] sort by recent_citations limit 3"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "Looks good"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-115\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-115"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "Disable faceting on `obsolete` field"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 94,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'integer',\n",
       " 'description': 'Indicates researcher ID status. 0 means that the researcher ID is still active, 1 means that the researcher ID is no longer valid. See redirect field for further information on invalid researcher IDs. Also see function ``check_researcher_ids`` in :ref:`supported-functions`.',\n",
       " 'long_description': None,\n",
       " 'is_entity': False,\n",
       " 'is_filter': True,\n",
       " 'is_facet': False}"
      ]
     },
     "execution_count": 94,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query describe source researchers \n",
    "res['fields']['obsolete']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Semantic Error\n",
      "Semantic errors found:\n",
      "\tFacet 'obsolete' is not present in source 'researchers'. Available facets are: current_research_org,first_grant_year,first_publication_year,last_grant_year,last_publication_year,research_orgs,total_grants,total_publications\n"
     ]
    }
   ],
   "source": [
    "%dsl_query search researchers where first_grant_year=\"1999\" return obsolete"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 76,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Researchers:  48177\n",
      "Returned Researchers: 3\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "limit": 3,
        "offset": 4000,
        "total_count": 48177
       },
       "researchers": [
        {
         "id": "ur.011525672703.98",
         "obsolete": 0
        },
        {
         "id": "ur.010106646673.71",
         "obsolete": 0
        },
        {
         "id": "ur.010160623173.01",
         "obsolete": 0
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4530733240: [('researchers', 3), ('_stats', 3)]>"
      ]
     },
     "execution_count": 76,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search researchers where first_grant_year=\"1999\" and obsolete=0 return researchers[id+obsolete] limit 3 skip 4000 "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "* functionality is correct\n",
    "\n",
    "### PROBLEMS\n",
    "* update description text in JSON: remove \\n and empty spaces\n",
    "* in docs, add the following to the desc: \"See also the check_researcher_ids function\" (ideally with a link to https://docs.dimensions.ai/dsl/1.16.0-preview/functions.html#check-researcher-ids)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-112\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-112"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "Add terms to the grants source"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'type': 'text',\n",
       " 'description': 'Extracted terms',\n",
       " 'long_description': None,\n",
       " 'is_entity': False,\n",
       " 'is_filter': False,\n",
       " 'is_facet': False}"
      ]
     },
     "execution_count": 77,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query describe source grants \n",
    "res['fields']['terms']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 83,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  8755\n",
      "Returned Grants: 1\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[{'title': 'SCH: INT: Collaborative Research: Smart Intervention Strategies for Hepatitis C Elimination',\n",
       "  'terms': ['ongoing epidemic',\n",
       "   'SCH',\n",
       "   'survey',\n",
       "   'long latency period',\n",
       "   'collaborative research',\n",
       "   'agents',\n",
       "   'county health department',\n",
       "   'fellows',\n",
       "   'CDC',\n",
       "   'true disease burden',\n",
       "   'dynamic allocation',\n",
       "   'decision makers',\n",
       "   'research team',\n",
       "   'practical decision support tool',\n",
       "   'medicine',\n",
       "   'simulation model',\n",
       "   'control',\n",
       "   'several challenges',\n",
       "   'project',\n",
       "   'students',\n",
       "   'system',\n",
       "   'approach',\n",
       "   'application',\n",
       "   'risk populations',\n",
       "   'dynamic modeling',\n",
       "   'effective intervention policies',\n",
       "   'effective screening',\n",
       "   'knowledge',\n",
       "   'true prevalence',\n",
       "   'HCV disease burden',\n",
       "   'optimization',\n",
       "   'learning',\n",
       "   'national level',\n",
       "   'disease',\n",
       "   'health status',\n",
       "   'infection',\n",
       "   'few symptons',\n",
       "   'epidemiology',\n",
       "   'overarching aim',\n",
       "   'ambitious targets',\n",
       "   'adaptive intervention strategies',\n",
       "   'tuberculosis',\n",
       "   'several important research questions',\n",
       "   'research experience',\n",
       "   'societal perspective',\n",
       "   'allocation',\n",
       "   'National Academy',\n",
       "   'true HCV prevalence',\n",
       "   'Disease Control',\n",
       "   'stakeholders',\n",
       "   'decision support',\n",
       "   'hepatitis C',\n",
       "   'Smart Intervention Strategies',\n",
       "   'Int',\n",
       "   'computational modeling',\n",
       "   'chronic hepatitis C virus',\n",
       "   'more deaths',\n",
       "   'treatment strategies',\n",
       "   'hepatitis C infection',\n",
       "   'majority',\n",
       "   'practical decision support',\n",
       "   'research',\n",
       "   'team',\n",
       "   'global health threat',\n",
       "   'potential stakeholders',\n",
       "   'Centers',\n",
       "   'Hepatitis C Elimination',\n",
       "   'World Health Organization',\n",
       "   'methodology',\n",
       "   'infectious diseases',\n",
       "   'HIV/AIDS',\n",
       "   'malaria',\n",
       "   'other common infectious conditions',\n",
       "   'treatment',\n",
       "   'operations research',\n",
       "   'effective screening policy',\n",
       "   'management',\n",
       "   'global health problem',\n",
       "   'state',\n",
       "   'limited resources',\n",
       "   'prevention',\n",
       "   'HCV prevalence',\n",
       "   'use']}]"
      ]
     },
     "execution_count": 83,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res = %dsl_query search grants in terms for \"malaria\" return grants[title+terms] limit 1 skip 500\n",
    "res['grants']"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "* works fine "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### PROBLEMS\n",
    "* remove sentence __See for \"search term\" regarding searching terms vs phrases\"__ from [docs](https://docs.dimensions.ai/dsl/1.16.0-preview/data.html) description, as it is confusing\n",
    "* we will deal with cleaning up the relationship between text search and terms search in the context of a different ticket, as soon as get agreement on the naming"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-121\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-121"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "issue with long queries causing a recursion exception"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "1 QueryError found\n",
      "\n",
      "Query too long. See https://docs.dimensions.ai/dsl/faq.html for more info on troubleshooting common errors\n"
     ]
    }
   ],
   "source": [
    "%%dsl_query\n",
    "search publications where (id=\"pub.1078412851\" or pmid=\"21687907\" or id=\"pub.1017692918\" or doi=\"10.1017/epi.2012.11\" or id=\"pub.1000947601\" or doi=\"10.1353/lib.2014.0024\" or id=\"pub.1005840286\" or doi=\"10.1037/rel0000028\" or id=\"pub.1072896184\" or doi=\"10.5465/amle.2006.21253790\" or id=\"pub.1008047826\" or doi=\"10.1016/j.paid.2011.12.004\" or id=\"pub.1059036018\" or doi=\"10.1088/0143-0807/29/3/003\" or id=\"pub.1073160696\" or doi=\"10.5840/acpq20108415\" or id=\"pub.1029258106\" or doi=\"10.1080/09596410.2012.688259\" or id=\"pub.1024363171\" or doi=\"10.1016/j.jrp.2008.03.006\" or id=\"pub.1064059641\" or doi=\"10.1177/1548051809350892\" or id=\"pub.1067630970\" or doi=\"10.1521/jscp.23.5.620.50753\" or id=\"pub.1025060184\" or doi=\"10.1215/1089201x-2010-046\" or id=\"pub.1032446800\" or doi=\"10.1016/j.jrp.2009.01.003\" or id=\"pub.1100929797\" or doi=\"10.1177/009164711404200108\" or id=\"pub.1100929801\" or doi=\"10.1177/009164711404200112\" or id=\"pub.1031824018\" or doi=\"10.1007/s11089-011-0417-9\" or id=\"pub.1040703453\" or doi=\"10.1017/s0140525x10002888\" or id=\"pub.1036369050\" or doi=\"10.1080/15528030.2013.857380\" or id=\"pub.1012305334\" or doi=\"10.1163/1568533042650840\" or id=\"pub.1031921162\" or doi=\"10.2217/ahe.11.77\" or id=\"pub.1036082057\" or doi=\"10.1080/19349637.2015.957611\" or id=\"pub.1076634202\" or pmid=\"14761002\" or id=\"pub.1040168037\" or doi=\"10.1007/s11098-004-5751-7\" or id=\"pub.1012672187\" or doi=\"10.1016/j.jcps.2010.03.001\" or id=\"pub.1010045665\" or doi=\"10.1016/j.paid.2015.02.004\" or id=\"pub.1008910323\" or doi=\"10.1071/eg14006\" or id=\"pub.1017891525\" or doi=\"10.1016/j.paid.2015.02.017\" or id=\"pub.1023582102\" or doi=\"10.1525/jlin.2005.15.2.218\" or id=\"pub.1029425398\" or doi=\"10.1080/02604027.2013.803371\" or id=\"pub.1070973004\" or doi=\"10.3102/10769986030004353\" or id=\"pub.1023147247\" or doi=\"10.1080/14719037.2013.875392\" or id=\"pub.1009259948\" or doi=\"10.1016/j.radi.2011.05.002\" or id=\"pub.1020700410\" or doi=\"10.1046/j.1440-1614.1999.00583.x\" or id=\"pub.1022459754\" or doi=\"10.1177/0018726705059929\" or id=\"pub.1023623880\" or doi=\"10.1016/j.paid.2011.09.014\" or id=\"pub.1021393674\" or doi=\"10.1016/j.paid.2014.04.033\" or id=\"pub.1007672608\" or doi=\"10.1177/1357034x10373405\" or id=\"pub.1067630268\" or doi=\"10.1521/jscp.2006.25.5.i\" or id=\"pub.1018288979\" or doi=\"10.1016/j.jrp.2013.01.012\" or id=\"pub.1077182929\" or pmid=\"16450230\" or id=\"pub.1100929625\" or doi=\"10.1177/009164711003800202\" or id=\"pub.1100929792\" or doi=\"10.1177/009164711404200103\" or id=\"pub.1100929799\" or doi=\"10.1177/009164711404200110\" or id=\"pub.1067687338\" or doi=\"10.1525/lal.2013.25.1.20\" or id=\"pub.1043577499\" or doi=\"10.1007/s12126-009-9031-x\" or id=\"pub.1074237633\" or doi=\"10.1177/0731948711417556\" or id=\"pub.1030141465\" or doi=\"10.1111/j.1464-0597.2011.00445.x\" or id=\"pub.1034708314\" or doi=\"10.1111/j.1741-6612.2004.00022.x\" or id=\"pub.1054829868\" or doi=\"10.1017/s0036930612000117\" or id=\"pub.1044208382\" or doi=\"10.1016/j.paid.2012.07.005\" or id=\"pub.1027428369\" or doi=\"10.1057/dev.2009.52\" or id=\"pub.1017172064\" or doi=\"10.1007/s11116-013-9497-y\" or id=\"pub.1063714008\" or doi=\"10.1177/0090591705280525\" or id=\"pub.1064025394\" or doi=\"10.1177/14705931030032004\" or id=\"pub.1000524486\" or doi=\"10.1002/per.757\" or id=\"pub.1003903591\" or doi=\"10.1016/j.paid.2013.08.026\" or id=\"pub.1022792380\" or doi=\"10.1080/10464883.2013.817157\" or id=\"pub.1045492518\" or doi=\"10.1111/japp.12049\" or id=\"pub.1034254211\" or doi=\"10.1177/0966735009105872\" or id=\"pub.1043893561\" or doi=\"10.1007/s00300-008-0445-9\" or id=\"pub.1033409695\" or doi=\"10.1007/s11133-014-9289-5\" or id=\"pub.1006858529\" or doi=\"10.1016/j.paid.2013.09.018\" or id=\"pub.1100929798\" or doi=\"10.1177/009164711404200109\" or id=\"pub.1038018965\" or doi=\"10.1007/s11098-009-9352-3\" or id=\"pub.1045167160\" or doi=\"10.1007/s11406-014-9550-x\" or id=\"pub.1072896499\" or doi=\"10.5465/amle.2011.59513279\" or id=\"pub.1064070004\" or doi=\"10.1177/1742715012441178\" or id=\"pub.1100929241\" or doi=\"10.1177/009164710102900302\" or id=\"pub.1017502370\" or doi=\"10.1080/00207233.2010.517297\" or id=\"pub.1013940401\" or doi=\"10.1080/02582471003778391\" or id=\"pub.1007109195\" or doi=\"10.1598/jaal.54.5.6\" or id=\"pub.1025219193\" or doi=\"10.1002/per.830\" or id=\"pub.1000878687\" or doi=\"10.1016/j.paid.2013.10.031\" or id=\"pub.1046125741\" or doi=\"10.1111/1468-5906.00113\" or id=\"pub.1072900464\" or doi=\"10.5465/amj.2010.0441\" or id=\"pub.1052882151\" or doi=\"10.1007/s10591-013-9297-8\" or id=\"pub.1067630169\" or doi=\"10.1521/jscp.2000.19.1.70\" or id=\"pub.1100929793\" or doi=\"10.1177/009164711404200104\" or id=\"pub.1063996642\" or doi=\"10.1177/1362480610396646\" or id=\"pub.1002425689\" or doi=\"10.1080/10457097.2010.514558\" or id=\"pub.1028439388\" or doi=\"10.1111/ijst.12099\" or id=\"pub.1043768808\" or doi=\"10.1080/02615479.2013.805190\" or id=\"pub.1017818842\" or doi=\"10.1111/1467-6427.00068\" or id=\"pub.1074760148\" or pmid=\"11189464\" or id=\"pub.1048256639\" or doi=\"10.1016/j.jrp.2009.08.007\" or id=\"pub.1064732923\" or doi=\"10.1287/orsc.1120.0795\" or id=\"pub.1015448068\" or doi=\"10.1016/j.paid.2013.12.026\" or id=\"pub.1036507015\" or doi=\"10.1016/j.paid.2014.03.026\" or id=\"pub.1073186851\" or doi=\"10.5840/faithphil200118325\" or id=\"pub.1100929796\" or doi=\"10.1177/009164711404200107\" or id=\"pub.1063576971\" or doi=\"10.1177/0014524610363222\" or id=\"pub.1007124640\" or doi=\"10.1016/j.paid.2015.06.008\" or id=\"pub.1029767528\" or doi=\"10.1002/per.795\" or id=\"pub.1002468198\" or doi=\"10.1080/08959285.2014.913594\" or id=\"pub.1006129682\" or doi=\"10.1111/spc3.12069\" or id=\"pub.1038539064\" or doi=\"10.1111/j.0269-1213.2004.00071.x\" or id=\"pub.1030378455\" or doi=\"10.1007/s11406-015-9582-x\" or id=\"pub.1041274188\" or doi=\"10.1163/17455197-01202003\" or id=\"pub.1008064266\" or doi=\"10.1080/10705422.2010.490161\" or id=\"pub.1036598408\" or doi=\"10.1080/13674676.2015.1038229\" or id=\"pub.1078553046\" or pmid=\"22533053\" or id=\"pub.1015265880\" or doi=\"10.1016/j.paid.2011.06.011\" or id=\"pub.1000063590\" or doi=\"10.1080/13528165.2013.818322\" or id=\"pub.1100929790\" or doi=\"10.1177/009164711404200101\" or id=\"pub.1023568914\" or doi=\"10.1057/ap.2013.19\" or id=\"pub.1027686749\" or doi=\"10.1016/j.jrp.2015.07.002\" or id=\"pub.1032278027\" or doi=\"10.1177/1477878512437472\" or id=\"pub.1031623673\" or doi=\"10.1177/0022167803256979\" or id=\"pub.1024790229\" or doi=\"10.1111/j.1468-2400.2010.00524.x\" or id=\"pub.1071024869\" or doi=\"10.3138/utq.80.4.858\" or id=\"pub.1052944431\" or doi=\"10.1177/1948550613484179\" or id=\"pub.1032457028\" or doi=\"10.1007/s11406-006-9032-x\" or id=\"pub.1024146244\" or doi=\"10.1177/107769900608300311\" or id=\"pub.1064141251\" or doi=\"10.1190/1.1651456\" or id=\"pub.1038887111\" or doi=\"10.1525/aeq.2000.31.4.449\" or id=\"pub.1025169219\" or doi=\"10.1163/15700690-12341251\" or id=\"pub.1100929795\" or doi=\"10.1177/009164711404200106\" or id=\"pub.1037783436\" or doi=\"10.1016/j.paid.2011.01.011\" or id=\"pub.1056347546\" or doi=\"10.1027/1866-5888/a000108\" or id=\"pub.1068186558\" or doi=\"10.1654/4424.1\" or id=\"pub.1100929791\" or doi=\"10.1177/009164711404200102\" or id=\"pub.1053174663\" or doi=\"10.1111/1468-0114.00172\" or id=\"pub.1100929732\" or doi=\"10.1177/009164711204000303\" or id=\"pub.1013880732\" or doi=\"10.1111/j.1095-9270.2010.00295.x\" or id=\"pub.1038295553\" or doi=\"10.1007/s11007-009-9102-4\" or id=\"pub.1049737583\" or doi=\"10.1177/1948550614534700\" or id=\"pub.1027375881\" or doi=\"10.1007/s10943-005-9007-4\" or id=\"pub.1030380605\" or doi=\"10.1016/j.paid.2012.11.008\" or id=\"pub.1051043573\" or doi=\"10.1177/0001839213520131\" or id=\"pub.1100929800\" or doi=\"10.1177/009164711404200111\" or id=\"pub.1036328411\" or doi=\"10.1002/per.1860\" or id=\"pub.1052303795\" or doi=\"10.1080/01440357.2013.830833\" or id=\"pub.1073168834\" or doi=\"10.5840/augstudies201344228\" or id=\"pub.1015202705\" or doi=\"10.1016/j.paid.2014.02.043\" or id=\"pub.1000632555\" or doi=\"10.1016/j.leaqua.2014.11.005\" or id=\"pub.1021272222\" or doi=\"10.1080/00377310109517622\" or id=\"pub.1047545963\" or doi=\"10.1177/1948550610370717\" or id=\"pub.1067630703\" or doi=\"10.1521/jscp.2013.32.8.859\" or id=\"pub.1014628109\" or doi=\"10.1017/s1356186316000109\" or id=\"pub.1045830767\" or doi=\"10.1111/soru.12083\" or id=\"pub.1041125836\" or doi=\"10.1111/meta.12213\" or id=\"pub.1013084383\" or doi=\"10.1007/s11841-013-0381-1\" or id=\"pub.1071629927\" or doi=\"10.3917/litt.176.0047\" or id=\"pub.1038515093\" or doi=\"10.1080/15427609.2016.1166014\" or id=\"pub.1029045952\" or doi=\"10.1891/2156-5287.5.4.188\" or id=\"pub.1049734074\" or doi=\"10.1111/j.1365-2206.2009.00668.x\" or id=\"pub.1028667769\" or doi=\"10.1016/j.eurger.2012.06.007\" or id=\"pub.1043365790\" or doi=\"10.1016/j.paid.2015.08.030\" or id=\"pub.1008864847\" or doi=\"10.1016/j.paid.2016.03.043\" or id=\"pub.1016219350\" or doi=\"10.1007/978-3-662-47470-9_15\" or id=\"pub.1019233969\" or doi=\"10.1002/sdr.261\" or id=\"pub.1032569091\" or doi=\"10.1080/10720537.2012.679128\" or id=\"pub.1073080761\" or doi=\"10.5708/ejmh.11.2016.1-2.2\" or id=\"pub.1036473350\" or doi=\"10.1002/bdm.677\" or id=\"pub.1016161006\" or doi=\"10.1080/02703149.2011.580687\" or id=\"pub.1011271771\" or doi=\"10.1080/02615479.2015.1059805\" or id=\"pub.1013294403\" or doi=\"10.1007/s10670-005-3225-8\" or id=\"pub.1009303453\" or doi=\"10.1016/j.paid.2012.07.010\" or id=\"pub.1049969342\" or doi=\"10.1207/s15327043hup1802_4\" or id=\"pub.1014673052\" or doi=\"10.1080/08995605.2011.570589\" or id=\"pub.1023251495\" or doi=\"10.1016/j.paid.2014.05.007\" or id=\"pub.1020634014\" or doi=\"10.1163/18722636-12341284\" or id=\"pub.1000205451\" or doi=\"10.1017/eso.2015.64\" or id=\"pub.1068330963\" or doi=\"10.17323/1814-9545-2015-2-244-278\" or id=\"pub.1084691508\" or doi=\"10.1080/02615479.2017.1297393\" or id=\"pub.1005889680\" or doi=\"10.1002/per.733\" or id=\"pub.1024153375\" or doi=\"10.1007/978-90-481-2979-9_17\" or id=\"pub.1040411204\" or doi=\"10.1002/per.750\" or id=\"pub.1016521547\" or doi=\"10.1080/17439760.2015.1117130\" or id=\"pub.1024990625\" or doi=\"10.1007/s11245-015-9324-5\" or id=\"pub.1009131023\" or doi=\"10.1080/14780038.2016.1166410\" or id=\"pub.1028428397\" or doi=\"10.1017/s1740022807002033\" or id=\"pub.1067428281\" or doi=\"10.1504/ejim.2012.047038\" or id=\"pub.1041839965\" or doi=\"10.1002/per.1940\" or id=\"pub.1040192262\" or doi=\"10.1111/edth.12157\" or id=\"pub.1025875044\" or doi=\"10.1007/s12144-015-9310-5\" or id=\"pub.1014245561\" or doi=\"10.1016/j.jrp.2016.08.004\" or id=\"pub.1072896003\" or doi=\"10.5465/amle.2003.9324027\" or id=\"pub.1017766835\" or doi=\"10.1002/per.597\" or id=\"pub.1063892836\" or doi=\"10.1177/0957926508092244\" or id=\"pub.1008343476\" or doi=\"10.1016/j.paid.2012.06.010\" or id=\"pub.1042356945\" or doi=\"10.1111/1467-9256.12075\" or id=\"pub.1046868396\" or doi=\"10.1080/03057240.2016.1174675\" or id=\"pub.1084529182\" or doi=\"10.1016/j.jrp.2017.04.002\" or id=\"pub.1012045652\" or doi=\"10.1007/978-3-319-27929-9_1\" or id=\"pub.1073250869\" or doi=\"10.5840/socphiltoday201672731\" or id=\"pub.1072894987\" or doi=\"10.5465/ame.2004.15268751\" or id=\"pub.1073160412\" or doi=\"10.5840/acpq200579112\" or id=\"pub.1011561620\" or doi=\"10.1016/j.tate.2006.12.024\" or id=\"pub.1100929853\" or doi=\"10.1177/009164711504300403\" or id=\"pub.1045193539\" or doi=\"10.1080/17439760.2015.1037861\" or id=\"pub.1010978278\" or doi=\"10.1016/j.spacepol.2016.05.003\" or id=\"pub.1058392338\" or doi=\"10.1080/14623943.2016.1269003\" or id=\"pub.1006175865\" or doi=\"10.1080/10474412.2016.1167608\" or id=\"pub.1054829225\" or doi=\"10.1017/s0036930603001261\" or id=\"pub.1022618163\" or doi=\"10.1111/j.1467-9809.2010.01030.x\" or id=\"pub.1032853834\" or doi=\"10.1080/0046760x.2015.1136358\" or id=\"pub.1016838189\" or doi=\"10.1016/j.paid.2016.07.043\" or id=\"pub.1045461276\" or doi=\"10.1111/josi.12175\" or id=\"pub.1009476753\" or doi=\"10.1108/jgm-03-2015-0007\" or id=\"pub.1074798326\" or pmid=\"11299694\" or id=\"pub.1064584762\" or doi=\"10.1260/174795408785100635\" or id=\"pub.1040414284\" or doi=\"10.1111/j.1467-9973.2007.00501.x\" or id=\"pub.1010094777\" or doi=\"10.1016/j.paid.2007.04.008\" or id=\"pub.1032663458\" or doi=\"10.1111/j.1750-0206.2011.00283.x\" or id=\"pub.1010885014\" or doi=\"10.1353/sce.2016.0033\" or id=\"pub.1014321092\" or doi=\"10.1016/j.paid.2013.05.008\" or id=\"pub.1056344172\" or doi=\"10.1027/1015-5759.21.1.56\" or id=\"pub.1001136461\" or doi=\"10.1080/05568641.2011.560027\" or id=\"pub.1043872366\" or doi=\"10.1006/jrpe.2002.2342\" or id=\"pub.1052030829\" or doi=\"10.1016/j.jom.2009.01.003\" or id=\"pub.1032962447\" or doi=\"10.1108/01437731211203447\" or id=\"pub.1018432473\" or doi=\"10.1002/sres.2423\" or id=\"pub.1063347740\" or doi=\"10.11612/resphil.2016.93.3.10\" or id=\"pub.1000159095\" or doi=\"10.1177/0018726701543003\" or id=\"pub.1093797356\" or doi=\"10.1109/fie.2011.6142907\" or id=\"pub.1044181675\" or doi=\"10.1080/17531055.2014.916557\" or id=\"pub.1020539693\" or doi=\"10.1080/0267303042000152168\" or id=\"pub.1048596729\" or doi=\"10.1080/00048400601154376\" or id=\"pub.1043303377\" or doi=\"10.1080/09500690902874894\" or id=\"pub.1047463603\" or doi=\"10.1080/1070289x.2014.873043\" or id=\"pub.1019314286\" or doi=\"10.1080/17439760.2016.1167938\" or id=\"pub.1036637416\" or doi=\"10.1080/17439760.2016.1167944\" or id=\"pub.1073099235\" or doi=\"10.5752/p.2175-5841.2016v14n43p1064\" or id=\"pub.1085296070\" or doi=\"10.1080/09552367.2017.1319084\" or id=\"pub.1036298750\" or doi=\"10.1016/j.paid.2011.05.025\" or id=\"pub.1024837555\" or doi=\"10.1179/1474893213z.00000000081\" or id=\"pub.1001718097\" or doi=\"10.1515/zaa-2014-0006\" or id=\"pub.1068330522\" or doi=\"10.17323/1726-3247-2015-5-118-139\" or id=\"pub.1084100743\" or doi=\"10.1016/j.paid.2017.02.056\" or id=\"pub.1025007146\" or doi=\"10.1080/13507480903368087\" or id=\"pub.1044086127\" or doi=\"10.1080/02582470903500442\" or id=\"pub.1045791369\" or doi=\"10.3406/rbph.2009.7704\" or id=\"pub.1059651490\" or doi=\"10.1093/hwj/dbs055\" or id=\"pub.1031710958\" or doi=\"10.1080/15022250.2015.1006390\" or id=\"pub.1038955697\" or doi=\"10.1016/j.hrmr.2015.01.006\" or id=\"pub.1000151768\" or doi=\"10.1080/00076791.2016.1172569\" or id=\"pub.1021123890\" or doi=\"10.1016/j.paid.2016.04.096\" or id=\"pub.1035317010\" or doi=\"10.1017/s0140525x00233438\" or id=\"pub.1017708008\" or doi=\"10.1177/0002716203254762\" or id=\"pub.1043551523\" or doi=\"10.1111/j.1467-8373.2008.00379.x\" or id=\"pub.1028146237\" or doi=\"10.1016/j.paid.2009.05.029\" or id=\"pub.1071184599\" or doi=\"10.3366/e026483340900056x\" or id=\"pub.1030133589\" or doi=\"10.1007/s11191-011-9346-3\" or id=\"pub.1008348129\" or doi=\"10.1016/j.paid.2013.08.037\" or id=\"pub.1002104668\" or doi=\"10.1080/14742837.2013.860025\" or id=\"pub.1034889795\" or doi=\"10.1037/a0034163\" or id=\"pub.1052215622\" or doi=\"10.1080/03057240.2016.1168736\" or id=\"pub.1073160990\" or doi=\"10.5840/acpq201531749\" or id=\"pub.1089280541\" or doi=\"10.1057/9781137500328.0010\" or id=\"pub.1085401832\" or doi=\"10.1017/s1744552317000118\" or id=\"pub.1100276579\" or doi=\"10.1080/00222216.2001.11949938\" or id=\"pub.1017321096\" or doi=\"10.1016/j.futures.2009.11.028\" or id=\"pub.1028338184\" or doi=\"10.1007/s10862-010-9210-9\") return publications[id+doi+pmid] limit 1000"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "### VERDICT\n",
    "* works fine "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "---"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "## DSL-126\n",
    "\n",
    "https://uberresearch.atlassian.net/browse/DSL-126"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "Collapsed": "false"
   },
   "source": [
    "grants query error due to long subquery"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tot Grants:  11994\n",
      "Returned Grants: 20\n"
     ]
    },
    {
     "data": {
      "application/json": {
       "_stats": {
        "total_count": 11994
       },
       "grants": [
        {
         "active_year": [
          2019,
          2020,
          2021
         ],
         "end_date": "2021-12-15",
         "funders": [
          {
           "acronym": "NC3Rs",
           "country_name": "United Kingdom",
           "id": "grid.453088.2",
           "name": "National Centre for the Replacement Refinement and Reduction of Animals in Research"
          }
         ],
         "funding_org_name": "National Centre for the Replacement Refinement and Reduction of Animals in Research",
         "id": "grant.7925349",
         "language": "en",
         "original_title": "Refining the lung cancer mouse model through environmental enrichment",
         "project_num": "NC/S001832/1",
         "start_date": "2019-12-16",
         "start_year": 2019,
         "title": "Refining the lung cancer mouse model through environmental enrichment",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021
         ],
         "end_date": "2021-06-30",
         "funders": [
          {
           "acronym": "AACR",
           "country_name": "United States",
           "id": "grid.280840.6",
           "name": "American Association For Cancer Research"
          }
         ],
         "funding_org_name": "American Association For Cancer Research",
         "id": "grant.7926217",
         "language": "en",
         "original_title": "Therapeutic potential of FANCM for BRCA1-linked Breast cancer",
         "project_num": "625573",
         "start_date": "2019-07-01",
         "start_year": 2019,
         "title": "Therapeutic potential of FANCM for BRCA1-linked Breast cancer",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021
         ],
         "end_date": "2021-06-30",
         "funders": [
          {
           "acronym": "AACR",
           "country_name": "United States",
           "id": "grid.280840.6",
           "name": "American Association For Cancer Research"
          }
         ],
         "funding_org_name": "American Association For Cancer Research",
         "id": "grant.7926222",
         "language": "en",
         "original_title": "AGGF1-MCL1 confers paclitaxel resistance in triple-negative breast cancer",
         "project_num": "627986",
         "start_date": "2019-07-01",
         "start_year": 2019,
         "title": "AGGF1-MCL1 confers paclitaxel resistance in triple-negative breast cancer",
         "title_language": "en"
        },
        {
         "active_year": [
          2019
         ],
         "end_date": "2019-10-31",
         "funders": [
          {
           "acronym": "FAPESP",
           "country_name": "Brazil",
           "id": "grid.452907.d",
           "name": "São Paulo Research Foundation"
          }
         ],
         "funding_org_name": "São Paulo Research Foundation",
         "id": "grant.7923921",
         "language": "pt",
         "original_title": "Sensor de ar exalado para o diagnóstico clínico precoce de câncer de mama",
         "project_num": "17/15868-7",
         "start_date": "2019-02-01",
         "start_year": 2019,
         "title": "Exhaled air sensor for early clinical diagnosis of breast cancer",
         "title_language": "pt"
        },
        {
         "active_year": [
          2019,
          2020,
          2021
         ],
         "end_date": "2021-01-31",
         "funders": [
          {
           "acronym": "FAPESP",
           "country_name": "Brazil",
           "id": "grid.452907.d",
           "name": "São Paulo Research Foundation"
          }
         ],
         "funding_org_name": "São Paulo Research Foundation",
         "id": "grant.7923826",
         "language": "en",
         "original_title": "Intrapleural immunoterapy in experimental model of lung adenocarcinoma with KRAS mutation",
         "project_num": "17/22687-9",
         "start_date": "2019-02-01",
         "start_year": 2019,
         "title": "Intrapleural immunoterapy in experimental model of lung adenocarcinoma with KRAS mutation",
         "title_language": "en"
        },
        {
         "active_year": [
          2019
         ],
         "end_date": "2019-07-31",
         "funders": [
          {
           "acronym": "EC",
           "country_name": "Belgium",
           "id": "grid.270680.b",
           "name": "European Commission"
          }
         ],
         "funding_org_name": "European Commission",
         "id": "grant.7926952",
         "language": "en",
         "original_title": "Respirable Advanced Therapeutics for Cystic Fibrosis & other Lung Diseases",
         "project_num": "855463",
         "start_date": "2019-02-01",
         "start_year": 2019,
         "title": "Respirable Advanced Therapeutics for Cystic Fibrosis & other Lung Diseases",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021
         ],
         "end_date": "2021-05-30",
         "funders": [
          {
           "acronym": "NASA",
           "country_name": "United States",
           "id": "grid.238252.c",
           "name": "National Aeronautics and Space Administration"
          }
         ],
         "funding_org_name": "National Aeronautics and Space Administration",
         "id": "grant.7923628",
         "language": "en",
         "original_title": "Countermeasures Against Adverse Effects of Space Radiation",
         "project_num": "80NSSC19K0435",
         "start_date": "2019-01-31",
         "start_year": 2019,
         "title": "Countermeasures Against Adverse Effects of Space Radiation",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022,
          2023
         ],
         "end_date": "2023-12-31",
         "funders": [
          {
           "acronym": "NCI",
           "country_name": "United States",
           "id": "grid.48336.3a",
           "name": "National Cancer Institute"
          }
         ],
         "funding_org_name": "National Cancer Institute",
         "id": "grant.7910737",
         "language": "en",
         "original_title": "Targeting UHRF1 in combinational immunotherapy",
         "project_num": "R01CA233205",
         "start_date": "2019-01-11",
         "start_year": 2019,
         "title": "Targeting UHRF1 in combinational immunotherapy",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022
         ],
         "end_date": "2022-12-31",
         "funders": [
          {
           "acronym": "NCI",
           "country_name": "United States",
           "id": "grid.48336.3a",
           "name": "National Cancer Institute"
          }
         ],
         "funding_org_name": "National Cancer Institute",
         "id": "grant.7909352",
         "language": "en",
         "original_title": "The role of  CMTR2 in Lung Cancer",
         "project_num": "K00CA212487",
         "start_date": "2019-01-07",
         "start_year": 2019,
         "title": "The role of  CMTR2 in Lung Cancer",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020
         ],
         "end_date": "2020-01-30",
         "funders": [
          {
           "acronym": "ITC",
           "country_name": "China",
           "id": "grid.453115.7",
           "name": "Innovation and Technology Commission"
          }
         ],
         "funding_org_name": "Innovation and Technology Commission",
         "id": "grant.7872888",
         "language": "en",
         "original_title": "D-Lung: An Analytics Platform for Primary Lung Cancer Screening, Diagnosis and Management based on Deep Learning Technology",
         "project_num": "PiH/247/18",
         "start_date": "2019-01-02",
         "start_year": 2019,
         "title": "D-Lung: An Analytics Platform for Primary Lung Cancer Screening, Diagnosis and Management based on Deep Learning Technology",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020
         ],
         "end_date": "2020-01-30",
         "funders": [
          {
           "acronym": "ITC",
           "country_name": "China",
           "id": "grid.453115.7",
           "name": "Innovation and Technology Commission"
          }
         ],
         "funding_org_name": "Innovation and Technology Commission",
         "id": "grant.7873118",
         "language": "en",
         "original_title": "D-Lung: An Analytics Platform for Primary Lung Cancer Screening, Diagnosis and Management based on Deep Learning Technology",
         "project_num": "InP/390/18",
         "start_date": "2019-01-02",
         "start_year": 2019,
         "title": "D-Lung: An Analytics Platform for Primary Lung Cancer Screening, Diagnosis and Management based on Deep Learning Technology",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022
         ],
         "end_date": "2022-01-01",
         "funders": [
          {
           "acronym": "NCI",
           "country_name": "United States",
           "id": "grid.48336.3a",
           "name": "National Cancer Institute"
          }
         ],
         "funding_org_name": "National Cancer Institute",
         "id": "grant.7615263",
         "language": "en",
         "original_title": "Defining the contributions of WT RAS in RAS-mutant lung cancer",
         "project_num": "F32CA232529",
         "start_date": "2019-01-02",
         "start_year": 2019,
         "title": "Defining the contributions of WT RAS in RAS-mutant lung cancer",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022,
          2023
         ],
         "end_date": "2023-12-31",
         "funders": [
          {
           "acronym": "EC",
           "country_name": "Belgium",
           "id": "grid.270680.b",
           "name": "European Commission"
          }
         ],
         "funding_org_name": "European Commission",
         "id": "grant.7926400",
         "language": "en",
         "original_title": "Gut OncoMicrobiome Signatures (GOMS) associated with cancer incidence, prognosis and prediction of treatment response.",
         "project_num": "825410",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Gut OncoMicrobiome Signatures (GOMS) associated with cancer incidence, prognosis and prediction of treatment response.",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022
         ],
         "end_date": "2022-12-31",
         "funders": [
          {
           "acronym": "SRC",
           "country_name": "Sweden",
           "id": "grid.208387.6",
           "name": "Swedish Research Council"
          }
         ],
         "funding_org_name": "Swedish Research Council",
         "id": "grant.7882409",
         "language": "en",
         "original_title": "Prognosticating cancer outcome with image analysis and machine learning",
         "project_num": "2018-04375_VR",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Prognosticating cancer outcome with image analysis and machine learning",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022
         ],
         "end_date": "2022-12-31",
         "funders": [
          {
           "acronym": "NHMRC",
           "country_name": "Australia",
           "id": "grid.431143.0",
           "name": "National Health and Medical Research Council"
          }
         ],
         "funding_org_name": "National Health and Medical Research Council",
         "id": "grant.7878886",
         "language": "en",
         "original_title": "Epigenetic regulation of germline fate during embryonic development and oncogenesis",
         "project_num": "GNT1162993",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Epigenetic regulation of germline fate during embryonic development and oncogenesis",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022,
          2023
         ],
         "end_date": "2023-12-31",
         "funders": [
          {
           "acronym": "NCI",
           "country_name": "United States",
           "id": "grid.48336.3a",
           "name": "National Cancer Institute"
          }
         ],
         "funding_org_name": "National Cancer Institute",
         "id": "grant.7909746",
         "language": "en",
         "original_title": "Photodynamic therapy with prior inhibition of epidermal growth factor receptor to stimulate antitumor innate immune response",
         "project_num": "R01CA236362",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Photodynamic therapy with prior inhibition of epidermal growth factor receptor to stimulate antitumor innate immune response",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020
         ],
         "end_date": "2020-12-31",
         "funders": [
          {
           "acronym": "EC",
           "country_name": "Belgium",
           "id": "grid.270680.b",
           "name": "European Commission"
          }
         ],
         "funding_org_name": "European Commission",
         "id": "grant.7570546",
         "language": "en",
         "original_title": "Mechanisms regulating pulmonary neuroendocrine cell (PNEC) growth and tumorigenesis",
         "project_num": "797966",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Mechanisms regulating pulmonary neuroendocrine cell (PNEC) growth and tumorigenesis",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020
         ],
         "end_date": "2020-06-30",
         "funders": [
          {
           "acronym": "SNF",
           "country_name": "Switzerland",
           "id": "grid.425888.b",
           "name": "Swiss National Science Foundation"
          }
         ],
         "funding_org_name": "Swiss National Science Foundation",
         "id": "grant.7870261",
         "language": "en",
         "original_title": "Identifying metabolic and regulatory determinants of drug tolerance in non-small-cell lung cancer",
         "project_num": "172200",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Identifying metabolic and regulatory determinants of drug tolerance in non-small-cell lung cancer",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022
         ],
         "end_date": "2022-12-31",
         "funders": [
          {
           "acronym": "SRC",
           "country_name": "Sweden",
           "id": "grid.208387.6",
           "name": "Swedish Research Council"
          }
         ],
         "funding_org_name": "Swedish Research Council",
         "id": "grant.7881092",
         "language": "en",
         "original_title": "A precision medicine platform to identify novel redox dependent metabolic vulnerabilities in lung cancer",
         "project_num": "2018-02318_VR",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "A precision medicine platform to identify novel redox dependent metabolic vulnerabilities in lung cancer",
         "title_language": "en"
        },
        {
         "active_year": [
          2019,
          2020,
          2021,
          2022,
          2023
         ],
         "end_date": "2023-12-31",
         "funders": [
          {
           "acronym": "NHMRC",
           "country_name": "Australia",
           "id": "grid.431143.0",
           "name": "National Health and Medical Research Council"
          }
         ],
         "funding_org_name": "National Health and Medical Research Council",
         "id": "grant.7879006",
         "language": "en",
         "original_title": "Targeting key regulators of innate immunity in inflammation-associated cancer",
         "project_num": "GNT1154279",
         "start_date": "2019-01-01",
         "start_year": 2019,
         "title": "Targeting key regulators of innate immunity in inflammation-associated cancer",
         "title_language": "en"
        }
       ]
      },
      "text/plain": [
       "<dimcli.Result object #4530701872: [('grants', 20), ('_stats', 1)]>"
      ]
     },
     "execution_count": 98,
     "metadata": {
      "application/json": {
       "expanded": false,
       "root": "root"
      }
     },
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%dsl_query search grants in full_data for \"\\\"lung cancer\\\"\" where researchers.last_name=\"Wang\" return grants [all] limit 250 skip 0"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "Collapsed": "false"
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
